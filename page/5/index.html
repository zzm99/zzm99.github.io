<!DOCTYPE html>



  


<html class="theme-next gemini use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/touxiang.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="zzm99">
<meta property="og:url" content="http://yoursite.com/page/5/index.html">
<meta property="og:site_name" content="zzm99">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="zzm99">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/page/5/">






  <script>
  (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "29501955"
    });
  daovoice('update');
  </script>

  <title>zzm99</title>
  








</head>


<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>
    
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">zzm99</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            Search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="Searching..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/31/matlab11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zzm99">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zzm99">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/31/matlab11/" itemprop="url">统计</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-31T16:22:43+08:00">
                2019-08-31
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/matlab/" itemprop="url" rel="index">
                    <span itemprop="name">matlab</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/08/31/matlab11/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/08/31/matlab11/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  117
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Figures-are-always-more-powerful"><a href="#Figures-are-always-more-powerful" class="headerlink" title="Figures are always more powerful"></a>Figures are always more powerful</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; x = 1:14;</span><br><span class="line">&gt;&gt; freqy = [1 0 1 0 4 0 1 0 3 1 0 0 1 1];</span><br><span class="line">&gt;&gt; subplot(1,3,1);</span><br><span class="line">&gt;&gt; bar(x, freqy);</span><br><span class="line">&gt;&gt; xlim([0 15]);</span><br><span class="line">&gt;&gt; subplot(1,3,2);</span><br><span class="line">&gt;&gt; area(x, freqy);</span><br><span class="line">&gt;&gt; xlim([0 15]);</span><br><span class="line">&gt;&gt; subplot(1,3,3);</span><br><span class="line">&gt;&gt; stem(x, freqy);</span><br><span class="line">&gt;&gt; xlim([0 15]);</span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
<p><img src="Snipaste_2019-08-31_17-11-32.png" alt="1"></p>
<h1 id="Boxplot"><a href="#Boxplot" class="headerlink" title="Boxplot"></a>Boxplot</h1><p><img src="Snipaste_2019-08-31_17-13-51.png" alt="1"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; marks = [80 81 81 84 88 92 92 94 96 97];</span><br><span class="line">&gt;&gt; boxplot(marks)</span><br><span class="line">&gt;&gt; prctile(marks,[25 50 75])  % 百分比处的值</span><br><span class="line"></span><br><span class="line">ans =</span><br><span class="line"></span><br><span class="line">    81    90    94</span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
<p><img src="Snipaste_2019-08-31_17-15-16.png" alt="1"></p>
<h1 id="Skewness"><a href="#Skewness" class="headerlink" title="Skewness"></a>Skewness</h1><p><img src="Snipaste_2019-08-31_17-18-04.png" alt="1"></p>
<h1 id="Kurtosis"><a href="#Kurtosis" class="headerlink" title="Kurtosis"></a>Kurtosis</h1><p><img src="Snipaste_2019-08-31_17-21-04.png" alt="1"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/31/matlab10/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zzm99">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zzm99">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/31/matlab10/" itemprop="url">线性回归方程式与线性系统</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-31T09:23:33+08:00">
                2019-08-31
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/matlab/" itemprop="url" rel="index">
                    <span itemprop="name">matlab</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/08/31/matlab10/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/08/31/matlab10/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  328
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Gaussian-Elimination-rref"><a href="#Gaussian-Elimination-rref" class="headerlink" title="Gaussian Elimination - rref()"></a>Gaussian Elimination - rref()</h1><p>高斯消元解方程组</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; A = [1 2 1;2 6 1; 1 1 4]</span><br><span class="line"></span><br><span class="line">A =</span><br><span class="line"></span><br><span class="line">     1     2     1</span><br><span class="line">     2     6     1</span><br><span class="line">     1     1     4</span><br><span class="line"></span><br><span class="line">&gt;&gt; b = [2; 7; 3]</span><br><span class="line"></span><br><span class="line">b =</span><br><span class="line"></span><br><span class="line">     2</span><br><span class="line">     7</span><br><span class="line">     3</span><br><span class="line"></span><br><span class="line">&gt;&gt; R = rref([A b])</span><br><span class="line"></span><br><span class="line">R =</span><br><span class="line"></span><br><span class="line">     1     0     0    -3</span><br><span class="line">     0     1     0     2</span><br><span class="line">     0     0     1     1</span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure>
<h1 id="LU-Factorization"><a href="#LU-Factorization" class="headerlink" title="LU Factorization"></a>LU Factorization</h1><p>LU解法，将A拆解为一个下三角矩阵和一个上三角矩阵乘积</p>
<p><img src="Snipaste_2019-08-31_15-52-20.png" alt="1"></p>
<p>下三角矩阵对角线都为1 上半三角都为0</p>
<p>上三角矩阵对角线无所谓，下半三角都为0</p>
<p><img src="Snipaste_2019-08-31_15-54-24.png" alt="1"></p>
<h2 id="How-to-Obtain-L-and-U"><a href="#How-to-Obtain-L-and-U" class="headerlink" title="How to Obtain L and U?"></a>How to Obtain L and U?</h2><ul>
<li>the matrices L and U are obtained by using a serious of left-multiplication </li>
</ul>
<p><img src="Snipaste_2019-08-31_15-57-49.png" alt="1"></p>
<h2 id="LU-Factorization-lu"><a href="#LU-Factorization-lu" class="headerlink" title="LU Factorization - lu()"></a>LU Factorization - lu()</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">A = [1 1 1; 2 3 5; 4 6 8];</span><br><span class="line">[L, U, P] = lu(A);</span><br></pre></td></tr></table></figure>
<h1 id="Matrix-Left-Division-or-mldivide"><a href="#Matrix-Left-Division-or-mldivide" class="headerlink" title="Matrix Left Division: \ or mldivide()"></a>Matrix Left Division: \ or mldivide()</h1><ul>
<li>Solving systems of linear equations Ax = b using factorization methods:</li>
</ul>
<p>一定要用左除<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; A = [1 2 1;2 6 1;1 1 4];</span><br><span class="line">b = [2; 7; 3];</span><br><span class="line">x = A\b</span><br><span class="line"></span><br><span class="line">x =</span><br><span class="line"></span><br><span class="line">   -3.0000</span><br><span class="line">    2.0000</span><br><span class="line">    1.0000</span><br><span class="line"></span><br><span class="line">&gt;&gt; x = b/A</span><br><span class="line">错误使用  / </span><br><span class="line">矩阵维度必须一致。</span><br><span class="line"> </span><br><span class="line">&gt;&gt;</span><br></pre></td></tr></table></figure></p>
<h1 id="Cramer’s-Inverse-Method"><a href="#Cramer’s-Inverse-Method" class="headerlink" title="Cramer’s(Inverse) Method"></a>Cramer’s(Inverse) Method</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A = [1 2 1; 2 6 1; 1 1 4];</span><br><span class="line">b = [2; 7; 3];</span><br><span class="line">x = inv(A)*b</span><br></pre></td></tr></table></figure>
<h1 id="Singular"><a href="#Singular" class="headerlink" title="Singular"></a>Singular</h1><ul>
<li>The inverse matirx does not exist</li>
</ul>
<p>当矩阵的解有无限多或者无解时候，那么这个矩阵就不存在逆inv(A)</p>
<p>同时,det(A) = 0</p>
<h1 id="Problem-with-Cramer’s-Method"><a href="#Problem-with-Cramer’s-Method" class="headerlink" title="Problem with Cramer’s Method"></a>Problem with Cramer’s Method</h1><ul>
<li>the accuracy is low when the determinant is very close to zero(det(A) ~ 0)</li>
</ul>
<h1 id="Eigenvalues-and-Eigenvectors"><a href="#Eigenvalues-and-Eigenvectors" class="headerlink" title="Eigenvalues and Eigenvectors"></a>Eigenvalues and Eigenvectors</h1><h2 id="eig"><a href="#eig" class="headerlink" title="eig()"></a>eig()</h2><ul>
<li>Find the eigenvalues and eigenvectors:</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[v, d] = eig([2 -12; 1 -5])</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/31/matlab9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zzm99">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zzm99">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/31/matlab9/" itemprop="url">方程式求根</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-31T09:23:24+08:00">
                2019-08-31
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/matlab/" itemprop="url" rel="index">
                    <span itemprop="name">matlab</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/08/31/matlab9/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/08/31/matlab9/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  468
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  2
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Symbolic-Root-Finding-Approach"><a href="#Symbolic-Root-Finding-Approach" class="headerlink" title="Symbolic Root Finding Approach"></a>Symbolic Root Finding Approach</h1><ul>
<li>Performing mathematics on symbols, NOT numbers</li>
<li>The symbols math are performed using “symbolic variables”</li>
<li>use sym or syms to create symbolic variables</li>
</ul>
<p>就是利用sym来创建一个未知数x</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">syms x</span><br><span class="line">x + x + x  %就是3x</span><br><span class="line">(x + x + x)/4 %就是（3/4）x</span><br></pre></td></tr></table></figure>
<p>或者</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">x = sym(&apos;x&apos;);</span><br><span class="line">x + x + x</span><br><span class="line">(x + x + x)/4</span><br></pre></td></tr></table></figure>
<p>同时用未知数去定义一个量，那个量也变为未知数</p>
<p>例如：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">y = x^2 - 2*x -8</span><br></pre></td></tr></table></figure></p>
<h1 id="Symbolic-Root-Finding-solve"><a href="#Symbolic-Root-Finding-solve" class="headerlink" title="Symbolic Root Finding: solve()"></a>Symbolic Root Finding: solve()</h1><ul>
<li>Function ‘solve’ finds roots for equations</li>
</ul>
<p>对于：y = x*sin(x) - x = 0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">syms x</span><br><span class="line">solve(&apos;x*sin(x)-x&apos;, x)</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">syms x</span><br><span class="line">y = x*sin(x)-x;</span><br><span class="line">solve(y, x)</span><br></pre></td></tr></table></figure>
<h1 id="Solving-Multiple-Equations"><a href="#Solving-Multiple-Equations" class="headerlink" title="Solving Multiple Equations"></a>Solving Multiple Equations</h1><ul>
<li>solve this equation using symbolic approach:</li>
</ul>
<p>{</p>
<p>x - 2y = 5</p>
<p>x + y = 6</p>
<p>}</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">syms x y</span><br><span class="line">eq1 = x - 2*y - 5;</span><br><span class="line">eq2 = x + y - 6;</span><br><span class="line">A = solve(eq1, eq2, x, y);</span><br><span class="line">A.x</span><br><span class="line">A.y</span><br></pre></td></tr></table></figure>
<h1 id="Solving-Equations-Expressed-in-Symbols"><a href="#Solving-Equations-Expressed-in-Symbols" class="headerlink" title="Solving Equations Expressed in Symbols"></a>Solving Equations Expressed in Symbols</h1><ul>
<li>what if we are given a function expressed in symbols?</li>
</ul>
<p>a*x^2 - b = 0</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">syms x a b</span><br><span class="line">solve(&apos;a*x^2-b&apos;)</span><br></pre></td></tr></table></figure>
<ul>
<li>x is always the first choice to be solved</li>
<li>what if one wants to express b in terms of a and x?</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">syms x a b</span><br><span class="line">solve(&apos;a*x^2-b&apos;,&apos;b&apos;)</span><br></pre></td></tr></table></figure>
<h1 id="Symbolic-Differentiation微分-diff"><a href="#Symbolic-Differentiation微分-diff" class="headerlink" title="Symbolic Differentiation微分: diff()"></a>Symbolic Differentiation微分: diff()</h1><ul>
<li>Calculate the derivative of a symbolic function:</li>
</ul>
<p>y = 4*x^5</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">syms x </span><br><span class="line">y = 4*x^5</span><br><span class="line">yprime = diff(y)</span><br></pre></td></tr></table></figure>
<h1 id="Symbolic-Integration积分-int"><a href="#Symbolic-Integration积分-int" class="headerlink" title="Symbolic Integration积分: int()"></a>Symbolic Integration积分: int()</h1><p><img src="Snipaste_2019-08-31_13-57-06.png" alt="1"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">syms x;</span><br><span class="line">y = x^2*exp(x);</span><br><span class="line">z = int(y);</span><br><span class="line">z = z-subs(z, x, 0)</span><br></pre></td></tr></table></figure>
<h1 id="fsolve"><a href="#fsolve" class="headerlink" title="fsolve()"></a>fsolve()</h1><ul>
<li>A numeric root solver</li>
<li>For example, solve this equation:</li>
</ul>
<p>f(x) = 1.2x + 0.3 + x*sin(x)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f2 = @(x)  (1.2*x+0.3+x*sin(x));</span><br><span class="line">fsolve(f2, 0)</span><br></pre></td></tr></table></figure>
<blockquote>
<p>其中fsolve的第二个参数是对方程成立的x的大概范围猜测，上面例子猜测为0</p>
</blockquote>
<h1 id="fzero"><a href="#fzero" class="headerlink" title="fzero()"></a>fzero()</h1><ul>
<li>Another numeric root solver</li>
<li>Find the zero if and only if the function crosses the x-axis</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f = @(x) x.^2;</span><br><span class="line">fzero(f, 0.1) % fzero解不出来 因为x^2 没有穿过x轴 但是fsolve(f, 0)能解出来</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">f = @(x) x;</span><br><span class="line">fzero(f, 0.1)  %能解出来</span><br></pre></td></tr></table></figure>
<blockquote>
<p>fzero第二个参数也类似fsolve</p>
</blockquote>
<h1 id="Finding-Roots-of-Polynomials-roots"><a href="#Finding-Roots-of-Polynomials-roots" class="headerlink" title="Finding Roots of Polynomials: roots()"></a>Finding Roots of Polynomials: roots()</h1><ul>
<li>find the roots of the polynomial</li>
<li>roots only works for polynomial</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">roots([1 -6 -12 81])  % f(x) = x^3-6*x^2-12*x+81</span><br></pre></td></tr></table></figure>
<h1 id="求解root-两种原理："><a href="#求解root-两种原理：" class="headerlink" title="求解root 两种原理："></a>求解root 两种原理：</h1><h2 id="Bisection-二分法"><a href="#Bisection-二分法" class="headerlink" title="Bisection 二分法"></a>Bisection 二分法</h2><h2 id="Newton-Raphson-Method-Open-牛顿法"><a href="#Newton-Raphson-Method-Open-牛顿法" class="headerlink" title="Newton-Raphson Method(Open) 牛顿法"></a>Newton-Raphson Method(Open) 牛顿法</h2><p>Assumption:</p>
<ul>
<li>f(x) continusous</li>
<li>f`(x) known</li>
</ul>
<p><img src="Snipaste_2019-08-31_14-27-39.png" alt="1"></p>
<p><img src="Snipaste_2019-08-31_14-27-28.png" alt="1"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/31/matlab8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zzm99">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zzm99">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/31/matlab8/" itemprop="url">数值计算</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-31T09:23:16+08:00">
                2019-08-31
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/matlab/" itemprop="url" rel="index">
                    <span itemprop="name">matlab</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/08/31/matlab8/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/08/31/matlab8/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  658
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  3
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Representing-Polynomials-in-MATLAB"><a href="#Representing-Polynomials-in-MATLAB" class="headerlink" title="Representing Polynomials in MATLAB"></a>Representing Polynomials in MATLAB</h1><ul>
<li>Polynomials were represented as row vectors</li>
<li>For example: f(x) = x^3 - 2*x - 5</li>
<li>to enter this polynomial into MATLAB, use <code>p = [1 0 -1 -5];</code></li>
</ul>
<h1 id="values-of-polynomials-polyval"><a href="#values-of-polynomials-polyval" class="headerlink" title="values of polynomials : polyval()"></a>values of polynomials : polyval()</h1><ul>
<li>plot the polynomial</li>
</ul>
<p>f(x) = 9x^3 - 5x^2 + 3x + 7 (for -2 &lt;= x &lt;= 5)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = [9, -5, 3, 7];</span><br><span class="line">x = -2:0.01:5;</span><br><span class="line">f = polyval(a, x);</span><br><span class="line">plot(x, f, &apos;LineWidth&apos;, 2);</span><br><span class="line">xlabel(&apos;x&apos;); ylabel(&apos;f(x)&apos;);</span><br><span class="line">set(gca, &apos;FontSize&apos;, 14);</span><br></pre></td></tr></table></figure>
<h1 id="Polynomial-Differentiation微分-polyder"><a href="#Polynomial-Differentiation微分-polyder" class="headerlink" title="Polynomial Differentiation微分: polyder()"></a>Polynomial Differentiation微分: polyder()</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p = [5 0 -2 0 1];</span><br><span class="line">polyder(p)</span><br></pre></td></tr></table></figure>
<p>算某处微分值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p = [5 0  -2 0 1];</span><br><span class="line">polyval(polyder(p), 7)</span><br></pre></td></tr></table></figure>
<h1 id="Polynomial-Integration积分-：-polyint"><a href="#Polynomial-Integration积分-：-polyint" class="headerlink" title="Polynomial Integration积分 ： polyint()"></a>Polynomial Integration积分 ： polyint()</h1><p>需要多给matlab一个常熟项，积分后会出现一个常数项</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">p = [5 0 -2 0 1];</span><br><span class="line">polyint(p, 3)</span><br></pre></td></tr></table></figure>
<p>在某处的值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">polyval(polyint(p, 3), 7)</span><br></pre></td></tr></table></figure>
<h1 id="Numerical数值-Differentiation微分"><a href="#Numerical数值-Differentiation微分" class="headerlink" title="Numerical数值 Differentiation微分"></a>Numerical数值 Differentiation微分</h1><h2 id="Differences-diff"><a href="#Differences-diff" class="headerlink" title="Differences: diff()"></a>Differences: diff()</h2><ul>
<li>diff() calculates the differences between adjacent相邻 elements of a vector</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = [1 2 5 2 1];</span><br><span class="line">diff(x)</span><br></pre></td></tr></table></figure>
<h2 id="obtain-the-slope坡度-of-a-line-between-2-points-1-5-and-2-7"><a href="#obtain-the-slope坡度-of-a-line-between-2-points-1-5-and-2-7" class="headerlink" title="obtain the slope坡度 of a line between 2 points (1, 5) and (2, 7)"></a>obtain the slope坡度 of a line between 2 points (1, 5) and (2, 7)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">x = [1 2]; y = [5 7];</span><br><span class="line">slope = diff(y)./diff(x)</span><br></pre></td></tr></table></figure>
<h2 id="Numerical-Differentiation-Using-diff"><a href="#Numerical-Differentiation-Using-diff" class="headerlink" title="Numerical Differentiation Using diff()"></a>Numerical Differentiation Using diff()</h2><ul>
<li>Given f(x) = sin(x), find f`(x0) at x0 = pi/2 using h = 0.1</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">x0 = pi/2; h = 0.1;</span><br><span class="line">x = [x0 x0+h];</span><br><span class="line">y = [sin(x0) sin(x0+h)];</span><br><span class="line">m = diff(y)./diff(x)</span><br></pre></td></tr></table></figure>
<h2 id="How-to-Find-the-f-over-an-interval-0-2Π"><a href="#How-to-Find-the-f-over-an-interval-0-2Π" class="headerlink" title="How to Find the f` over an interval [0, 2Π]?"></a>How to Find the f` over an interval [0, 2Π]?</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">h = 0.05; x = 0:h:2*pi;</span><br><span class="line">y = sin(x); m = diff(y)./diff(x);</span><br><span class="line">plot(m);</span><br></pre></td></tr></table></figure>
<h1 id="Second-and-Third-Derivatives-二次-三次微分"><a href="#Second-and-Third-Derivatives-二次-三次微分" class="headerlink" title="Second and Third Derivatives 二次/三次微分"></a>Second and Third Derivatives 二次/三次微分</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x = -2:0.005:2; y = x.^3;</span><br><span class="line">m = diff(y)./diff(x);</span><br><span class="line">m2 = diff(m)./diff(x(1:end-1));</span><br><span class="line"></span><br><span class="line">plot(x, y, x(1:end-1), m, x(1:end-2), m2);</span><br><span class="line">xlabel(&apos;x&apos;, &apos;FontSize&apos;, 18);</span><br><span class="line">ylabel(&apos;y&apos;, &apos;FontSize&apos;, 18);</span><br><span class="line">legend(&apos;f(x) = x^3&apos;, &apos;f&apos;&apos;(x)&apos;, &apos;f&apos;&apos;&apos;&apos;(x)&apos;);</span><br><span class="line">set(gca, &apos;FontSize&apos;, 18);</span><br></pre></td></tr></table></figure>
<p><img src="Snipaste_2019-08-31_10-42-35.png" alt="1"></p>
<h1 id="Numerical-Integration"><a href="#Numerical-Integration" class="headerlink" title="Numerical Integration"></a>Numerical Integration</h1><p>用矩形或梯形来估算面积大小来作为积分值</p>
<h2 id="Midpoint矩形估算-Rule-Using-sum"><a href="#Midpoint矩形估算-Rule-Using-sum" class="headerlink" title="Midpoint矩形估算 Rule Using sum()"></a>Midpoint矩形估算 Rule Using sum()</h2><p>底乘高，底是h ， 高是中等分点的函数值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">h = 0.05; x = 0:h:2;</span><br><span class="line">midpoint = (x(1:end-1)+x(2:end))./2;</span><br><span class="line">y = 4*midpoint.^3;</span><br><span class="line">s = sum(h*y);</span><br></pre></td></tr></table></figure>
<h2 id="Trapezoid-Rule-梯形预测"><a href="#Trapezoid-Rule-梯形预测" class="headerlink" title="Trapezoid Rule 梯形预测"></a>Trapezoid Rule 梯形预测</h2><p>上底加下底乘高除二</p>
<p>上底是x1的函数值 下底是x0的函数值 高是h</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">h = 0.05; x = 0:h:2; y = 4*x.^3;</span><br><span class="line">s = h*trapz(y)  % trapz() 就是计算上底加下底除二</span><br></pre></td></tr></table></figure>
<p>或者：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">h = 0.05; x = 0:h:2; y = 4*x.^3;</span><br><span class="line">trapezoid = (y(1:end-1)+y(2:end))/2;</span><br><span class="line">s = h*sum(trapezoid)</span><br></pre></td></tr></table></figure>
<h1 id="Second-order-Rule-1-3-Simpson’s"><a href="#Second-order-Rule-1-3-Simpson’s" class="headerlink" title="Second-order Rule: 1/3 Simpson’s"></a>Second-order Rule: 1/3 Simpson’s</h1><p>计算面积的公式为： </p>
<p>h/3*(f0 + 4f1 + f2)</p>
<p><img src="Snipaste_2019-08-31_10-58-07.png" alt="1"></p>
<h1 id="Review-of-Function-Handles"><a href="#Review-of-Function-Handles" class="headerlink" title="Review of Function Handles (@)"></a>Review of Function Handles (@)</h1><ul>
<li>A handle is a pointer to a function</li>
<li>can be used to pass functions to other functions</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function [y] = xy_plot(input, x)</span><br><span class="line">% xy_plot receives the handle of a function and plots that function of x</span><br><span class="line">y = input(x); plot(x, y &apos;r--&apos;);</span><br><span class="line">xlabel(&apos;x&apos;); ylabel(&apos;function(x)&apos;);</span><br><span class="line">end</span><br></pre></td></tr></table></figure>
<p>Try: <code>xy_plot(@sin, 0:0.01:2*pi);</code></p>
<p>不能将函数传给函数，只能传一个函数的handle给另一个函数</p>
<h1 id="Numerical-Integration积分-integral"><a href="#Numerical-Integration积分-integral" class="headerlink" title="Numerical Integration积分: integral()"></a>Numerical Integration积分: integral()</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">y = @(x) 1./(x.^3-2*x-5);</span><br><span class="line">integral(y,0,2)</span><br></pre></td></tr></table></figure>
<h1 id="Double-and-Triple-Integrals"><a href="#Double-and-Triple-Integrals" class="headerlink" title="Double and Triple Integrals"></a>Double and Triple Integrals</h1><p><img src="Snipaste_2019-08-31_11-07-52.png" alt="1"></p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/29/javamianx2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zzm99">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zzm99">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/29/javamianx2/" itemprop="url">Exercise one</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-29T16:21:11+08:00">
                2019-08-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/java面向对象程序设计/" itemprop="url" rel="index">
                    <span itemprop="name">java面向对象程序设计</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/08/29/javamianx2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/08/29/javamianx2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  2.4k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  15
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="1-（What-a-Simple-Research）-30-Points"><a href="#1-（What-a-Simple-Research）-30-Points" class="headerlink" title="1.（What a Simple Research）(30 Points)"></a>1.（What a Simple Research）(30 Points)</h1><p>Doctor Li is doing some research on Chinese ancient<br>music. Many Chinese ancient music has only five kinds of tones, which can be denoted by<br>‘C’,‘D’,‘E’,‘G’, and ‘A’. Given a piece of music score, Li wants to do some simple statistics.</p>
<p>Input</p>
<p>There are no more than 20 test cases.</p>
<p>In each test case:</p>
<p> The first line contains two integers n and m (2 &lt;= n, m&lt;=20), indicating that a piece of music<br>score is represented by an n*m matrix of tones. Only ‘C’,‘D’,‘E’,‘G’, and ‘A’ can appear in the<br>matrix.</p>
<p> Then the n*m matrix follows.<br> The input ends with a line of ‘0 0’.</p>
<p>Output</p>
<p>For each test case:<br> For each kind of tone shown in the matrix, calculate the appearing times of it, and print the<br>result in descending order according to the appearing times. If more than one kind of tones has<br>the same appearing times, print them in the lexicographical order.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line">4 5</span><br><span class="line">AGCDE</span><br><span class="line">AGDDE</span><br><span class="line">DDDDD</span><br><span class="line">EEEEE</span><br><span class="line">2 4</span><br><span class="line">GADC</span><br><span class="line">CDEE</span><br><span class="line">0 0</span><br><span class="line">Sample Output</span><br><span class="line">D 8 E 7 A 2 G 2 C 1</span><br><span class="line">C 2 D 2 E 2 A 1 G 1</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">No1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">    	<span class="class"><span class="keyword">class</span> <span class="title">chrr</span></span>&#123;</span><br><span class="line">    		<span class="keyword">char</span> x;</span><br><span class="line">    		<span class="keyword">int</span> num;</span><br><span class="line">    	&#125;</span><br><span class="line">        <span class="keyword">int</span> a = <span class="number">0</span>, b = <span class="number">0</span>;</span><br><span class="line">        String cc = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">int</span> A = <span class="number">0</span>, C = <span class="number">0</span>, D = <span class="number">0</span>, E = <span class="number">0</span>, G = <span class="number">0</span>;</span><br><span class="line">        Scanner scan = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        <span class="keyword">while</span>(<span class="keyword">true</span>)</span><br><span class="line">        &#123;</span><br><span class="line">        	a = scan.nextInt();</span><br><span class="line">            b = scan.nextInt();</span><br><span class="line">        	<span class="keyword">if</span>(a == <span class="number">0</span> &amp;&amp; b == <span class="number">0</span>)</span><br><span class="line">        		<span class="keyword">break</span>;</span><br><span class="line">        	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++)</span><br><span class="line">        	&#123;</span><br><span class="line">        		A = C = D = E = G = <span class="number">0</span>;</span><br><span class="line">        	&#125;</span><br><span class="line">        	</span><br><span class="line">        	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;a; i++)</span><br><span class="line">        	&#123;</span><br><span class="line">        			cc = scan.next();</span><br><span class="line">	        		<span class="keyword">char</span>[] c = cc.toCharArray();</span><br><span class="line">	        		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;b; j++)</span><br><span class="line">		        	&#123;</span><br><span class="line">	        			<span class="keyword">if</span>(c[j] == <span class="string">'A'</span>)</span><br><span class="line">	        				A++;</span><br><span class="line">	        			<span class="keyword">else</span> <span class="keyword">if</span>(c[j] == <span class="string">'C'</span>)</span><br><span class="line">	        				C++;</span><br><span class="line">	        			<span class="keyword">else</span> <span class="keyword">if</span>(c[j] == <span class="string">'D'</span>)</span><br><span class="line">	        				D++;</span><br><span class="line">	        			<span class="keyword">else</span> <span class="keyword">if</span>(c[j] == <span class="string">'E'</span>)</span><br><span class="line">	        				E++;</span><br><span class="line">	        			<span class="keyword">else</span> <span class="keyword">if</span>(c[j] == <span class="string">'G'</span>)</span><br><span class="line">	        				G++;</span><br><span class="line">	        		&#125;</span><br><span class="line">        	&#125;</span><br><span class="line">        	chrr allc[] = <span class="keyword">new</span> chrr[<span class="number">5</span>];</span><br><span class="line">        	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++)</span><br><span class="line">        		allc[i] = <span class="keyword">new</span> chrr();</span><br><span class="line">        	allc[<span class="number">0</span>].x = <span class="string">'A'</span>; allc[<span class="number">0</span>].num = A;</span><br><span class="line">        	allc[<span class="number">1</span>].x = <span class="string">'C'</span>; allc[<span class="number">1</span>].num = C;</span><br><span class="line">        	allc[<span class="number">2</span>].x = <span class="string">'D'</span>; allc[<span class="number">2</span>].num = D;</span><br><span class="line">        	allc[<span class="number">3</span>].x = <span class="string">'E'</span>; allc[<span class="number">3</span>].num = E;</span><br><span class="line">        	allc[<span class="number">4</span>].x = <span class="string">'G'</span>; allc[<span class="number">4</span>].num = G;</span><br><span class="line">        	</span><br><span class="line">        	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">4</span>; i++)</span><br><span class="line">        	&#123;</span><br><span class="line">        		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;<span class="number">4</span>-i; j++)</span><br><span class="line">        		&#123;</span><br><span class="line">        			<span class="keyword">if</span>(allc[j].num &lt; allc[j+<span class="number">1</span>].num)</span><br><span class="line">        			&#123;</span><br><span class="line">        				chrr temp = allc[j];</span><br><span class="line">        				allc[j] = allc[j+<span class="number">1</span>];</span><br><span class="line">        				allc[j+<span class="number">1</span>] = temp;</span><br><span class="line">        			&#125;</span><br><span class="line">        			<span class="keyword">else</span> <span class="keyword">if</span>(allc[j].num == allc[j+<span class="number">1</span>].num)</span><br><span class="line">        			&#123;</span><br><span class="line">        				<span class="keyword">if</span>(allc[j].x &gt; allc[j+<span class="number">1</span>].x)</span><br><span class="line">        				&#123;</span><br><span class="line">        					chrr temp = allc[j];</span><br><span class="line">            				allc[j] = allc[j+<span class="number">1</span>];</span><br><span class="line">            				allc[j+<span class="number">1</span>] = temp;</span><br><span class="line">        				&#125;</span><br><span class="line">        			&#125;</span><br><span class="line">        		&#125;</span><br><span class="line">        	&#125;</span><br><span class="line">        	</span><br><span class="line">        	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;<span class="number">5</span>; i++)</span><br><span class="line">        	&#123;</span><br><span class="line">        		<span class="keyword">if</span>(allc[i].num != <span class="number">0</span>)</span><br><span class="line">        			System.out.print(allc[i].x + <span class="string">" "</span> + allc[i].num + <span class="string">" "</span>);</span><br><span class="line">        	&#125;</span><br><span class="line">        	System.out.print(<span class="string">"\n"</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        scan.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="2-（Reverse-Words-in-a-String）-30-Points"><a href="#2-（Reverse-Words-in-a-String）-30-Points" class="headerlink" title="2.（Reverse Words in a String）(30 Points)"></a>2.（Reverse Words in a String）(30 Points)</h1><p>Given a string, you need to write a program to<br>reverse the order of characters in each word within a sentence while still preserving whitespace<br>and initial word order.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Input: &quot;Let&apos;s take LeetCode contest&quot;</span><br><span class="line">Output: &quot;s&apos;teL ekat edoCteeL tsetnoc&quot;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">No2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String str1 = <span class="keyword">null</span>;</span><br><span class="line">		Scanner scan = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		<span class="keyword">while</span>(scan.hasNextLine()) </span><br><span class="line">		&#123;</span><br><span class="line">			str1 = scan.nextLine();</span><br><span class="line">			<span class="keyword">char</span>[] cstr1 = str1.toCharArray();</span><br><span class="line">			<span class="keyword">int</span> len = str1.length();</span><br><span class="line">			<span class="keyword">char</span>[] cstr2 = <span class="keyword">new</span> <span class="keyword">char</span>[len];</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">int</span> f1 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">int</span> f2 = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">int</span> z = <span class="number">0</span>;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;len; i++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">if</span>(cstr1[i] == <span class="string">' '</span>)</span><br><span class="line">				&#123;</span><br><span class="line">					cstr2[z++] = <span class="string">' '</span>;</span><br><span class="line">					f1 = f2 = i+<span class="number">1</span>;</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">else</span></span><br><span class="line">				&#123;</span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> j=i; j&lt;len; j++)</span><br><span class="line">					&#123;</span><br><span class="line">						<span class="keyword">if</span>(cstr1[j] == <span class="string">' '</span>)</span><br><span class="line">						&#123;</span><br><span class="line">							f2 = j-<span class="number">1</span>;</span><br><span class="line">							i = j-<span class="number">1</span>;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">						<span class="keyword">else</span> <span class="keyword">if</span>(j == len-<span class="number">1</span>)</span><br><span class="line">						&#123;</span><br><span class="line">							f2 = len-<span class="number">1</span>;</span><br><span class="line">							i = len;</span><br><span class="line">							<span class="keyword">break</span>;</span><br><span class="line">						&#125;</span><br><span class="line">					&#125;</span><br><span class="line">					<span class="keyword">for</span>(<span class="keyword">int</span> j=f2; j&gt;=f1; j--)</span><br><span class="line">					&#123;</span><br><span class="line">						cstr2[z++] = cstr1[j];</span><br><span class="line">					&#125;</span><br><span class="line">					</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">			</span><br><span class="line">			String str2 = String.valueOf(cstr2);</span><br><span class="line">			System.out.print(str2 + <span class="string">'\n'</span>);</span><br><span class="line">		&#125;</span><br><span class="line">		scan.close();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="3-Maximum-Submatrix）-40-Points"><a href="#3-Maximum-Submatrix）-40-Points" class="headerlink" title="3. (Maximum Submatrix）(40 Points)"></a>3. (Maximum Submatrix）(40 Points)</h1><p> Given an n*n matrix composed of 0 or 1, determine the<br>top left corner position and the order of the maximum submatrix in which all of element are 1.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">Input:</span><br><span class="line">5</span><br><span class="line">1 1 0 1 0</span><br><span class="line">1 0 1 0 1</span><br><span class="line">0 1 1 1 0</span><br><span class="line">0 1 0 0 0</span><br><span class="line">0 1 0 0 1</span><br><span class="line">Output: position: (2,1), order: 3*1</span><br><span class="line">Input:</span><br><span class="line">3</span><br><span class="line">1 0 1</span><br><span class="line">0 1 1</span><br><span class="line">1 0 1</span><br><span class="line">output: position: (0,2), order: 3*1</span><br><span class="line">Input:</span><br><span class="line">4</span><br><span class="line">1 1 1 0</span><br><span class="line">0 1 1 0</span><br><span class="line">1 0 1 1</span><br><span class="line">0 1 1 1</span><br><span class="line">output: position: (0, 2), order: 4*1</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">No3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span></span><br><span class="line"><span class="function">	</span>&#123;</span><br><span class="line">		<span class="keyword">int</span> n = <span class="number">0</span>;</span><br><span class="line">		Scanner scan = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">		n = scan.nextInt();</span><br><span class="line">		<span class="keyword">char</span> [][]mat = <span class="keyword">new</span> <span class="keyword">char</span>[n][];</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			mat[i] = <span class="keyword">new</span> <span class="keyword">char</span>[n];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; i++)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; j++)</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="keyword">int</span> rem = scan.nextInt();</span><br><span class="line">				mat[i][j] = (<span class="keyword">char</span>)(<span class="string">'0'</span> + rem);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		Solution ret = <span class="keyword">new</span> Solution();</span><br><span class="line">		ret.maximalRectangle(mat);</span><br><span class="line">		<span class="keyword">int</span> xx = ret.getx();</span><br><span class="line">		<span class="keyword">int</span> yy = ret.gety();</span><br><span class="line">		<span class="keyword">int</span> mxx = ret.getxx();</span><br><span class="line">		<span class="keyword">int</span> myy = ret.getyy();</span><br><span class="line">		System.out.println(<span class="string">"position: ("</span> + xx + <span class="string">","</span> +yy +<span class="string">"), order: "</span> + mxx + <span class="string">"*"</span> + myy);</span><br><span class="line">		scan.close();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">	<span class="keyword">int</span> x;</span><br><span class="line">	<span class="keyword">int</span> y;</span><br><span class="line">	<span class="keyword">int</span> maxx;</span><br><span class="line">	<span class="keyword">int</span> maxy;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maximalRectangle</span><span class="params">(<span class="keyword">char</span>[][] matrix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> columnCount = matrix.length,rowCount = matrix[<span class="number">0</span>].length,max=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span>[] count = <span class="keyword">new</span> <span class="keyword">int</span>[rowCount];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;columnCount;i++)&#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;rowCount;j++)</span><br><span class="line">                <span class="keyword">if</span> (matrix[i][j] == <span class="string">'1'</span>) </span><br><span class="line">                    count[j]++;</span><br><span class="line">                <span class="keyword">else</span> </span><br><span class="line">                    count[j]=<span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;rowCount;j++)&#123;</span><br><span class="line">                <span class="keyword">int</span> currentCount = count[j];</span><br><span class="line">                <span class="keyword">while</span>(currentCount&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    <span class="keyword">int</span> columnNumber=<span class="number">1</span>;</span><br><span class="line">                    <span class="keyword">int</span> idxx = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">int</span> flag = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">for</span>(<span class="keyword">int</span> idx=j+<span class="number">1</span>;idx&lt;count.length;idx++)</span><br><span class="line">                        <span class="keyword">if</span>(currentCount &lt;= count[idx])</span><br><span class="line">                            columnNumber++;</span><br><span class="line">                        <span class="keyword">else</span></span><br><span class="line">                        &#123;</span><br><span class="line">                        	idxx = idx;</span><br><span class="line">                        	flag = <span class="number">1</span>;</span><br><span class="line">                            <span class="keyword">break</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    <span class="keyword">if</span>(flag == <span class="number">0</span>)</span><br><span class="line">                    	idxx = count.length;</span><br><span class="line">                    max = Math.max(max,columnNumber*currentCount);</span><br><span class="line">                    <span class="keyword">if</span>(max == columnNumber*currentCount)</span><br><span class="line">                    &#123;</span><br><span class="line">                    	x = i-currentCount+<span class="number">1</span>;</span><br><span class="line">                    	y = idxx-columnNumber;</span><br><span class="line">                    	maxx = currentCount;</span><br><span class="line">	                    maxy = columnNumber;</span><br><span class="line">                    &#125;</span><br><span class="line">	                currentCount--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> max;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getx</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> x;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">gety</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getxx</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> maxx;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getyy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">return</span> maxy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="4-Chess"><a href="#4-Chess" class="headerlink" title="4. Chess"></a>4. Chess</h1><h2 id="implement-a-simple-chess-game"><a href="#implement-a-simple-chess-game" class="headerlink" title="implement a simple chess game"></a>implement a simple chess game</h2><p><a href="https://baike.baidu.com/item/%E5%9B%BD%E9%99%85%E8%B1%A1%E6%A3%8B/80888?fr=aladdin" target="_blank" rel="noopener">Rules of Chess</a></p>
<h2 id="Project-implementation"><a href="#Project-implementation" class="headerlink" title="Project implementation:"></a>Project implementation:</h2><p>The following is the provided code framework:</p>
<p><img src="Snipaste_2019-09-08_14-25-22.png" alt="1"></p>
<h2 id="Experiment"><a href="#Experiment" class="headerlink" title="Experiment"></a>Experiment</h2><p>implement all the class methods under the chessmen folder. Note that the chessman classes inherit from a abstract base class Chessman in cn/edu/sysu/jood/core/Chessman.java</p>
<p>For each chessman, you need to complete three functions, which are listed as follows:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Can chessman move?</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">@param to destination</span></span><br><span class="line"><span class="comment">@return true if can move</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">boolean</span> <span class="title">canGo</span><span class="params">(Position to)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">get path to destination.</span></span><br><span class="line"><span class="comment">if</span></span><br><span class="line"><span class="comment">@param to destination</span></span><br><span class="line"><span class="comment">@return point of path</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> List&lt;Position&gt; <span class="title">path</span><span class="params">(Position to)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Get status of chessman</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">@return </span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> Status <span class="title">status</span><span class="params">()</span></span>;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>canGo: Can chessman move? For example, the queen at 1d(row 1, column d)wants to move to 4f, as 4f is not on the diagonal对角线 direction, thus canGo should return false.</p>
</li>
<li><p>Path: A list of points that is he path from current position to the target position. For example, the queen at 1d wants to move to 5h, thus the Path function should return 2e 3f 4g.</p>
</li>
<li><p>status: Return the status of the chessmen (e.g, King, Queen, Knight…..)</p>
</li>
</ul>
<h2 id="Caution"><a href="#Caution" class="headerlink" title="Caution:"></a>Caution:</h2><p><strong>Only the simple rules are required</strong>, the rules related to chessboard are for later experiment. For example, a rook can move any number of squares along a rank or file but cannot leap over other pieces, in which <strong>“move any number of squares along a rank or file “ is simple rule, and”cannot leap over other pieces” is chessboard rule.</strong></p>
<h2 id="Rules"><a href="#Rules" class="headerlink" title="Rules:"></a>Rules:</h2><ul>
<li>King: The king moves one square in any direction.</li>
<li>Queen: The queen moves any number of squares in any direction.</li>
<li>Rook: A rook can move any number of squares along a rank or file.</li>
<li>Bishop: A bishop can move any number of squares diagonally.</li>
<li>Knight: A knight moves to any of the closest squares that are not on the sane rank, file, or diagonal.(Thus the move forms an “L”-shape: two squares vertically and one square horizontally, or two squares horizontally and one square vertically.)</li>
<li>Pawn: A pawn can move forward to the unoccupied square immediately in front of it on the sanme file.</li>
</ul>
<h2 id="Judgement"><a href="#Judgement" class="headerlink" title="Judgement"></a>Judgement</h2><p>We will use the Junit framework to test each class of chessmen.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Bishop.java</span></span><br><span class="line"><span class="keyword">package</span> cn.edu.sysu.jood.core.chessmen;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Position;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman.Status;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bishop</span> <span class="keyword">extends</span> <span class="title">Chessman</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canGo</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">		<span class="keyword">int</span> to_row = to.row;</span><br><span class="line">        <span class="keyword">int</span> to_column = to.col;</span><br><span class="line">        <span class="keyword">int</span> on_row = getPosition().row;</span><br><span class="line">        <span class="keyword">int</span> on_column = getPosition().col;</span><br><span class="line">        <span class="keyword">int</span> row = Math.abs(to_row-on_row);</span><br><span class="line">        <span class="keyword">int</span> col = Math.abs(to_column-on_column);</span><br><span class="line">        <span class="keyword">if</span>(col == row)</span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Status <span class="title">status</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	Status ret = Status.Bishop;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Position&gt; <span class="title">path</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">		List&lt;Position&gt; ret = <span class="keyword">new</span> ArrayList&lt;Position&gt;();</span><br><span class="line">		<span class="keyword">int</span> row_d = to.row-getPosition().row;</span><br><span class="line">        <span class="keyword">int</span> col_d = to.col-getPosition().col;</span><br><span class="line">        <span class="keyword">int</span> abs_row = Math.abs(row_d);</span><br><span class="line">        <span class="keyword">int</span> row_f = row_d / abs_row;</span><br><span class="line">        <span class="keyword">int</span> col_f = col_d / abs_row;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; abs_row; i++)</span><br><span class="line">        	ret.add(<span class="keyword">new</span> Position(getPosition().row+i*row_f,getPosition().col+i*col_f));</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//King.java</span></span><br><span class="line"><span class="keyword">package</span> cn.edu.sysu.jood.core.chessmen;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Position;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman.Status;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">King</span> <span class="keyword">extends</span> <span class="title">Chessman</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canGo</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">int</span> abs_row = Math.abs(to.row-getPosition().row);</span><br><span class="line">        <span class="keyword">int</span> abs_col = Math.abs(to.col-getPosition().col);</span><br><span class="line">        <span class="keyword">if</span> (abs_row&lt;<span class="number">2</span> &amp;&amp; abs_col&lt;<span class="number">2</span>)</span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Status <span class="title">status</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	Status ret = Status.King;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Override</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> List&lt;Position&gt; <span class="title">path</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">		List&lt;Position&gt; ret=<span class="keyword">new</span> ArrayList&lt;Position&gt;();</span><br><span class="line"><span class="comment">//		Position e = to;</span></span><br><span class="line"><span class="comment">//		ret.add(e);</span></span><br><span class="line">		<span class="keyword">return</span> ret;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Knight.java</span></span><br><span class="line"><span class="keyword">package</span> cn.edu.sysu.jood.core.chessmen;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Position;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman.Status;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Knight</span> <span class="keyword">extends</span> <span class="title">Chessman</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canGo</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">int</span> sum = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">int</span> to_row = to.row;</span><br><span class="line">        <span class="keyword">int</span> to_column = to.col;</span><br><span class="line">        <span class="keyword">int</span> on_row = getPosition().row;</span><br><span class="line">        <span class="keyword">int</span> on_column = getPosition().col;</span><br><span class="line">        sum = (to_row - on_row)*(to_row - on_row) + (to_column - on_column)*(to_column - on_column);</span><br><span class="line">        <span class="keyword">if</span>(sum == <span class="number">5</span>)</span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Status <span class="title">status</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	Status ret = Status.Knight;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Position&gt; <span class="title">path</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">		List&lt;Position&gt; ret = <span class="keyword">new</span> ArrayList&lt;Position&gt;();</span><br><span class="line"><span class="comment">//		Position e = to;</span></span><br><span class="line"><span class="comment">//		ret.add(e);</span></span><br><span class="line">		<span class="keyword">return</span> ret;</span><br><span class="line">	&#125;    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Pawn.java</span></span><br><span class="line"><span class="keyword">package</span> cn.edu.sysu.jood.core.chessmen;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Position;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman.Status;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Pawn</span> <span class="keyword">extends</span> <span class="title">Chessman</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canGo</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">int</span> to_row = to.row;</span><br><span class="line">        <span class="keyword">int</span> to_column = to.col;</span><br><span class="line">        <span class="keyword">int</span> on_row = getPosition().row;</span><br><span class="line">        <span class="keyword">int</span> on_column = getPosition().col;</span><br><span class="line">        <span class="keyword">if</span>((on_column == to_column) &amp;&amp; ((to_row-on_row) == <span class="number">1</span>))</span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Status <span class="title">status</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	Status ret = Status.Pawn;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Position&gt; <span class="title">path</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">		List&lt;Position&gt; ret = <span class="keyword">new</span> ArrayList&lt;Position&gt;();</span><br><span class="line"><span class="comment">//		Position e = to;</span></span><br><span class="line"><span class="comment">//		ret.add(e);</span></span><br><span class="line">		<span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Queen.java</span></span><br><span class="line"><span class="keyword">package</span> cn.edu.sysu.jood.core.chessmen;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Position;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman.Status;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Queen</span> <span class="keyword">extends</span> <span class="title">Chessman</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canGo</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">int</span> abs_row = Math.abs(to.row-getPosition().row);</span><br><span class="line">        <span class="keyword">int</span> abs_col = Math.abs(to.col-getPosition().col);</span><br><span class="line">        <span class="keyword">if</span> (abs_row == abs_col || abs_row==<span class="number">0</span> || abs_col==<span class="number">0</span>)</span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Status <span class="title">status</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	Status ret = Status.Queen;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Position&gt; <span class="title">path</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">    	List&lt;Position&gt; ret=<span class="keyword">new</span> ArrayList&lt;Position&gt;();</span><br><span class="line">    	<span class="keyword">int</span> row_d = to.row-getPosition().row;</span><br><span class="line">        <span class="keyword">int</span> col_d = to.col-getPosition().col;</span><br><span class="line">        <span class="keyword">int</span> on_row = getPosition().row;</span><br><span class="line">        <span class="keyword">int</span> on_column = getPosition().col;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span>(row_d == <span class="number">0</span> || col_d == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">        	<span class="keyword">if</span>(row_d == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">            	<span class="keyword">int</span> num = Math.abs(col_d);</span><br><span class="line">            	col_d = col_d / num;</span><br><span class="line">            	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; num; i++)</span><br><span class="line">            		ret.add(<span class="keyword">new</span> Position(on_row,on_column+i*col_d));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">            	<span class="keyword">int</span> num = Math.abs(row_d);</span><br><span class="line">            	row_d = row_d / num;</span><br><span class="line">            	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; num; i++)</span><br><span class="line">            		ret.add(<span class="keyword">new</span> Position(on_row+i*row_d,on_column));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">        	<span class="keyword">int</span> num=Math.abs(row_d);</span><br><span class="line">            row_d = row_d / num;</span><br><span class="line">            col_d = col_d / num;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; num; i++)</span><br><span class="line">            	ret.add(<span class="keyword">new</span> Position(on_row+i*row_d,on_column+i*col_d));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Rook.java</span></span><br><span class="line"><span class="keyword">package</span> cn.edu.sysu.jood.core.chessmen;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Position;</span><br><span class="line"><span class="keyword">import</span> cn.edu.sysu.jood.core.Chessman.Status;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Rook</span> <span class="keyword">extends</span> <span class="title">Chessman</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canGo</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">    	<span class="keyword">int</span> row = to.row-getPosition().row;</span><br><span class="line">        <span class="keyword">int</span> col = to.col-getPosition().col;</span><br><span class="line">        <span class="keyword">if</span> (row == <span class="number">0</span> || col == <span class="number">0</span>)</span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        	<span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Status <span class="title">status</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    	Status ret = Status.Rook;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> List&lt;Position&gt; <span class="title">path</span><span class="params">(Position to)</span> </span>&#123;</span><br><span class="line">    	List&lt;Position&gt; ret=<span class="keyword">new</span> ArrayList&lt;Position&gt;();</span><br><span class="line">    	<span class="keyword">int</span> row_d = to.row-getPosition().row;</span><br><span class="line">        <span class="keyword">int</span> col_d = to.col-getPosition().col;</span><br><span class="line">        <span class="keyword">int</span> on_row = getPosition().row;</span><br><span class="line">        <span class="keyword">int</span> on_column = getPosition().col;</span><br><span class="line">        <span class="keyword">if</span>(row_d == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">        	<span class="keyword">int</span> num = Math.abs(col_d);</span><br><span class="line">        	col_d = col_d / num;</span><br><span class="line">        	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; num; i++)</span><br><span class="line">        		ret.add(<span class="keyword">new</span> Position(on_row,on_column+i*col_d));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">        	<span class="keyword">int</span> num = Math.abs(row_d);</span><br><span class="line">        	row_d = row_d / num;</span><br><span class="line">        	<span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; num; i++)</span><br><span class="line">        		ret.add(<span class="keyword">new</span> Position(on_row+i*row_d,on_column));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/29/javamianx1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zzm99">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zzm99">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/29/javamianx1/" itemprop="url">Java basic</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-29T16:21:05+08:00">
                2019-08-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/" itemprop="url" rel="index">
                    <span itemprop="name">java</span>
                  </a>
                </span>

                
                
                  , 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/java/java面向对象程序设计/" itemprop="url" rel="index">
                    <span itemprop="name">java面向对象程序设计</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/08/29/javamianx1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/08/29/javamianx1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  382
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Java程序"><a href="#Java程序" class="headerlink" title="Java程序"></a>Java程序</h1><p>先创建以.java后缀结尾的空文件</p>
<p>编译为.class文件</p>
<p>在java虚拟机（java vm）上执行文件</p>
<h1 id="The-Java-VM"><a href="#The-Java-VM" class="headerlink" title="The Java VM"></a>The Java VM</h1><p>java虚拟机可以在任何不同操作系统中执行</p>
<h1 id="The-Java-Platform"><a href="#The-Java-Platform" class="headerlink" title="The Java Platform"></a>The Java Platform</h1><ol>
<li>JVM</li>
<li>Java API</li>
</ol>
<h1 id="Welcome-to-Java"><a href="#Welcome-to-Java" class="headerlink" title="Welcome to Java!"></a>Welcome to Java!</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Welcome</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"Welcome to Java!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><img src="Snipaste_2019-08-29_16-53-44.png" alt="1"></p>
<h1 id="Implementation-of-a-Bicycle"><a href="#Implementation-of-a-Bicycle" class="headerlink" title="Implementation of a Bicycle"></a>Implementation of a Bicycle</h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Bicycle</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> cadence = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> speed = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> gear = <span class="number">1</span>;</span><br><span class="line">    Bicycle()&#123;</span><br><span class="line">        cadence = <span class="number">0</span>;</span><br><span class="line">        speed = <span class="number">0</span>;</span><br><span class="line">        gear = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">changeCadence</span><span class="params">(<span class="keyword">int</span> newValue)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        cadence = newValue;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">changeGear</span><span class="params">(<span class="keyword">int</span> newValue)</span></span></span><br><span class="line"><span class="function">    </span>&#123;</span><br><span class="line">        gear = newValue;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">speedUp</span><span class="params">(<span class="keyword">int</span> increment)</span></span>&#123;</span><br><span class="line">        speed = speed + increment;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">applyBrakes</span><span class="params">(<span class="keyword">int</span> decrement)</span></span>&#123;</span><br><span class="line">        speed = speed - decrement;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">printStates</span><span class="params">()</span></span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"cadence:"</span> + cadence + <span class="string">"speed:"</span> + speed + <span class="string">"gear:"</span> + gear);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BicycleDemo</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        Bicycle bike1 = <span class="keyword">new</span> Bicycle();</span><br><span class="line">        Bicycle bike2 = <span class="keyword">new</span> Bicycle();</span><br><span class="line">        bike1.speedUp(<span class="number">10</span>);</span><br><span class="line">        bike1.printStates();</span><br><span class="line">        bike2.changeCadence(<span class="number">50</span>);</span><br><span class="line">        bike2.speedUp(<span class="number">15</span>);</span><br><span class="line">        bike2.printStates();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="eclipse"><a href="#eclipse" class="headerlink" title="eclipse"></a>eclipse</h1><p>使用eclipse来运行java：</p>
<p>在workspace创建新项目</p>
<p>创建新的类class</p>
<p>编写</p>
<p>运行</p>
<p><img src="Snipaste_2019-08-29_17-32-17.png" alt="1"></p>
<p><a href="http://inpluslab.com/java2019/lec_02.pdf" target="_blank" rel="noopener">java基础知识pdf</a></p>
<h1 id="ps"><a href="#ps" class="headerlink" title="ps:"></a>ps:</h1><p>声明在方法中的变量在使用时必须要初始化;</p>
<ul>
<li>成员变量(实例变量，属性)</li>
</ul>
<p>成员变量：（在类中定义，    访问修饰符   修饰符   type  name  = value）</p>
<p>什么是成员变量？</p>
<p>成员变量就是类中的属性。当new对象的时候，每个对象都有一份属性。一个对象中的属性就是成员变量。</p>
<ul>
<li>局部变量（本地变量）</li>
</ul>
<p>局部变量：(修饰符   type  name = value)</p>
<p>什么是局部变量？</p>
<p>方法的形式参数以及在方法中定义的变量。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Welcome</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> j;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="keyword">int</span> i;</span><br><span class="line">        System.out.println(<span class="string">"Welcome to Java!"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/29/jizuyuanli2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zzm99">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zzm99">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/29/jizuyuanli2/" itemprop="url">MIPS——递归调用</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-29T15:54:12+08:00">
                2019-08-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/计算机组成原理/" itemprop="url" rel="index">
                    <span itemprop="name">计算机组成原理</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/08/29/jizuyuanli2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/08/29/jizuyuanli2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.1k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  6
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="嵌套过程"><a href="#嵌套过程" class="headerlink" title="嵌套过程"></a>嵌套过程</h1><p>不调用其他过程的过程称为叶过程(leaf procedure)。如果所有过程都是叶过程，那么情况就很简单。但是某个过程可以调用其他过程，甚至调用的是自身的“克隆”。在调用非叶过程时使用寄存器需要十分小心。</p>
<p>例如，假设主程序将参数3存入寄存器a0,然后使用jal A调用过程A。再假设过程A通过jal B调用过程B，参数为7，同样存入a0。由于A尚未结束任务，所以在寄存器a0的使用上存在冲突。同样，在寄存器ra保存的返回地址也存在冲突，因为它现在保存着B的返回值。</p>
<p>我们必须采取措施阻止这类问题发生：</p>
<p>一个解决方法是将其他所有必须保存的寄存器压栈，就像将保存寄存器压栈一样。调用者将所有调用后还需的参数寄存器（a1~a3）或临时寄存器（t0~t9）压栈。被调用者将返回地址寄存器(ra)和被调用者使用的保存寄存器（a0~a7）都压栈。栈指针 sp 随这栈中的寄存器个数调整。到返回时，寄存器会从存储器中恢复，栈指针也会随着重新调整。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">factorial</span><span class="params">(<span class="keyword">int</span> n)</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">int</span> res = factorial(n);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,res);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">factorial</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">1</span>)  <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span>  <span class="keyword">return</span> n * factorial(n - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">.data</span><br><span class="line">    prompt1: .asciiz &quot;Enter the number\n&quot;</span><br><span class="line">    prompt2: .asciiz &quot;The factorial of n is:\n&quot;</span><br><span class="line"></span><br><span class="line">.text</span><br><span class="line">main:</span><br><span class="line">    # Print prompt1</span><br><span class="line">    li $v0, 4</span><br><span class="line">    la $a0, prompt1</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    # Read integer</span><br><span class="line">    li $v0, 5</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    # Call factorial</span><br><span class="line">    move $a0, $v0</span><br><span class="line">    jal factorial</span><br><span class="line">    move $a1, $v0 # save return value to a1</span><br><span class="line"></span><br><span class="line">    # Print prompt2</span><br><span class="line">    li $v0, 4</span><br><span class="line">    la $a0, prompt2</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    # Print result</span><br><span class="line">    li $v0, 1</span><br><span class="line">    move $a0, $a1</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    # Exit</span><br><span class="line">    li $v0, 10</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    ## Function int factorial(int n)</span><br><span class="line">    factorial:</span><br><span class="line">        ## YOUR CODE HERE</span><br><span class="line">        addi $sp,$sp,-8            #adjust stack for 2 items</span><br><span class="line">        sw   $ra,4($sp)            #save return address</span><br><span class="line">        sw   $a0,0($sp)            #save the argument n</span><br><span class="line">    </span><br><span class="line">        slti $t0,$a0,1             #if n &lt; 1,then set $t0 as 1</span><br><span class="line">        beq  $t0,$zero,L1          #if equal,then jump L1</span><br><span class="line">                                   #above all,if n &gt;= 1,then jump L1</span><br><span class="line">        #if(n &lt; 1)</span><br><span class="line">        addi $v0,$zero,1            #return 1</span><br><span class="line">        addi $sp,$sp,8              #pop 2 items off stack</span><br><span class="line">        jr   $ra                    #return to caller</span><br><span class="line">        #else</span><br><span class="line">        L1:</span><br><span class="line">            add $a0,$a0,-1          #argument :n - 1</span><br><span class="line">            jal factorial           #call factorial with (n-1)</span><br><span class="line">        </span><br><span class="line">           lw   $a0,0($sp)          #restore argument n</span><br><span class="line">           lw   $ra,4($sp)          #restore address</span><br><span class="line">           addi $sp,$sp,8           #adjust stack pionter</span><br><span class="line">           mul  $v0,$a0,$v0         #return n * factorial(n-1)</span><br><span class="line">           jr   $ra                 #return to caller</span><br><span class="line">    ## END OF YOUR CODE</span><br><span class="line">  #jr $ra</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">###########################################################################</span><br><span class="line">#</span><br><span class="line">#    #include&lt;iostream&gt;</span><br><span class="line">#    using namespace std;</span><br><span class="line">#    int sum(int n) &#123;</span><br><span class="line">#        if (n == 1) &#123;</span><br><span class="line">#            return 1;</span><br><span class="line">#        &#125;</span><br><span class="line">#        return n+sum(n-1);</span><br><span class="line">#    &#125;</span><br><span class="line">#</span><br><span class="line">#    int main() &#123;</span><br><span class="line">#      int n = 10;</span><br><span class="line">#      int result = sum(n);</span><br><span class="line">#      cout &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">#      return 0;</span><br><span class="line">#    &#125;</span><br><span class="line">#</span><br><span class="line">###########################################################################</span><br><span class="line">.text</span><br><span class="line">.globl main</span><br><span class="line">main:</span><br><span class="line">  # Argument for termination condition is saved in $s1, it is 1.</span><br><span class="line">  addi $s1,$0,1</span><br><span class="line">  # Calculate the sum from 1 to 10, n = 10, it is saved in $a1.</span><br><span class="line">  addi $a1,$0,10</span><br><span class="line"></span><br><span class="line">  addi $v0,$0,0</span><br><span class="line"></span><br><span class="line">  # jump to funcion int sum(int n)</span><br><span class="line">  jal sum</span><br><span class="line">  # print result</span><br><span class="line">  j result</span><br><span class="line"></span><br><span class="line"># function</span><br><span class="line">sum:</span><br><span class="line">  # push</span><br><span class="line">  # adjust stack for 2 items (2 * 4 = 8)</span><br><span class="line">  addi $sp,$sp,-8</span><br><span class="line">  #save return address</span><br><span class="line">  sw $ra,4($sp)</span><br><span class="line">  #save argument</span><br><span class="line">  sw $a1,0($sp)</span><br><span class="line"></span><br><span class="line">  # n == 1, calculate sum</span><br><span class="line">  beq $a1,$s1,calculate</span><br><span class="line"></span><br><span class="line">  # n ！= 1</span><br><span class="line">  # n = n - 1</span><br><span class="line">  addi $a1,$a1,-1</span><br><span class="line">  # push</span><br><span class="line">  jal sum</span><br><span class="line">  # continue to pop</span><br><span class="line"></span><br><span class="line">  # branch</span><br><span class="line">  calculate:</span><br><span class="line">    # load argument</span><br><span class="line">    lw $a1,0($sp)</span><br><span class="line">    # load return address</span><br><span class="line">    lw $ra,4($sp)</span><br><span class="line">    # adjust stack for 2 items (2 * 4 = 8)</span><br><span class="line">    addi $sp,$sp, 8</span><br><span class="line">    # n+sum(n-1)</span><br><span class="line">    add $v0,$a1,$v0</span><br><span class="line"></span><br><span class="line">    # continue to pop until return main</span><br><span class="line">    jr $ra</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">result:</span><br><span class="line">  move $a0,$v0</span><br><span class="line">  li $v0, 1                                        # load appropriate system call code into register $v0</span><br><span class="line">  syscall</span><br><span class="line"></span><br><span class="line">  la $a0, change                                   # load address of string &quot;change&quot;</span><br><span class="line">  li $v0, 4                                        # load appropriate system call code into register $v0</span><br><span class="line">  syscall</span><br><span class="line"></span><br><span class="line">  li $v0, 10                                       # exit</span><br><span class="line">  syscall</span><br><span class="line"></span><br><span class="line">.data                                              # statement of data</span><br><span class="line">  change:                                          # name of string</span><br><span class="line">       .asciiz &quot;\n&quot;                                # definition of string</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line">###########################################################################</span><br><span class="line">#</span><br><span class="line">#    #include&lt;iostream&gt;</span><br><span class="line">#    using namespace std;</span><br><span class="line">#    int sum(int n) &#123;</span><br><span class="line">#        if (n != 1) &#123;</span><br><span class="line">#            return n+sum(n-1);</span><br><span class="line">#        &#125;</span><br><span class="line">#        return 1;</span><br><span class="line">#    &#125;</span><br><span class="line">#</span><br><span class="line">#    int main() &#123;</span><br><span class="line">#      int n = 10;</span><br><span class="line">#      int result = sum(n);</span><br><span class="line">#      cout &lt;&lt; result &lt;&lt; endl;</span><br><span class="line">#      return 0;</span><br><span class="line">#    &#125;</span><br><span class="line">#</span><br><span class="line">###########################################################################</span><br><span class="line">.text</span><br><span class="line">.globl main</span><br><span class="line">main:</span><br><span class="line">  # Argument for termination condition is saved in $s1, it is 1.</span><br><span class="line">  addi $s1,$0,1</span><br><span class="line">  # Calculate the sum from 1 to 10, n = 10, it is saved in $a1.</span><br><span class="line">  addi $a1,$0,10</span><br><span class="line"></span><br><span class="line">  # jump to funcion int sum(int n)</span><br><span class="line">  jal sum</span><br><span class="line">  # print result</span><br><span class="line">  j result</span><br><span class="line"></span><br><span class="line"># function</span><br><span class="line">sum:</span><br><span class="line">  # push</span><br><span class="line">  # adjust stack for 2 items (2 * 4 = 8)</span><br><span class="line">  addi $sp,$sp,-8</span><br><span class="line">  #save return address</span><br><span class="line">  sw $ra,4($sp)</span><br><span class="line">  #save argument</span><br><span class="line">  sw $a1,0($sp)</span><br><span class="line"></span><br><span class="line">  # n ！= 1, continue to push</span><br><span class="line">  bne $a1,$s1,push_number_and_calculate</span><br><span class="line"></span><br><span class="line">  # n == 1, return 1 (pop)</span><br><span class="line">  addi $v0,$0,1</span><br><span class="line">  addi $sp,$sp,8</span><br><span class="line">  # continue to pop</span><br><span class="line">  jr $ra</span><br><span class="line"></span><br><span class="line">  # branch</span><br><span class="line">  push_number_and_calculate:</span><br><span class="line">    # n = n - 1</span><br><span class="line">    addi $a1,$a1,-1</span><br><span class="line">    # push</span><br><span class="line">    jal sum</span><br><span class="line"></span><br><span class="line">    # pop 2,3,4,...,10, and calculate n+sum(n-1)</span><br><span class="line">    # load argument</span><br><span class="line">    lw $a1,0($sp)</span><br><span class="line">    # load return address</span><br><span class="line">    lw $ra,4($sp)</span><br><span class="line">    # adjust stack for 2 items (2 * 4 = 8)</span><br><span class="line">    addi $sp,$sp, 8</span><br><span class="line">    # n+sum(n-1)</span><br><span class="line">    add $v0,$a1,$v0</span><br><span class="line"></span><br><span class="line">    # continue to pop until return main</span><br><span class="line">    jr $ra</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">result:</span><br><span class="line">  move $a0,$v0</span><br><span class="line">  li $v0, 1                                        # load appropriate system call code into register $v0</span><br><span class="line">  syscall</span><br><span class="line"></span><br><span class="line">  la $a0, change                                   # load address of string &quot;change&quot;</span><br><span class="line">  li $v0, 4                                        # load appropriate system call code into register $v0</span><br><span class="line">  syscall</span><br><span class="line"></span><br><span class="line">  li $v0, 10                                       # exit</span><br><span class="line">  syscall</span><br><span class="line"></span><br><span class="line">.data                                              # statement of data</span><br><span class="line">  change:                                          # name of string</span><br><span class="line">       .asciiz &quot;\n&quot;                                # definition of string</span><br></pre></td></tr></table></figure>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/29/jizuyuanli1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zzm99">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zzm99">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/29/jizuyuanli1/" itemprop="url">MIPS汇编语言学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-29T15:54:05+08:00">
                2019-08-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/计算机组成原理/" itemprop="url" rel="index">
                    <span itemprop="name">计算机组成原理</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/08/29/jizuyuanli1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/08/29/jizuyuanli1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  2.6k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  13
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="数据类型和方法："><a href="#数据类型和方法：" class="headerlink" title="数据类型和方法："></a>数据类型和方法：</h1><ul>
<li><p>数据类型：字节，byte占用8bit，halfword占用2byte=16bit，word占用4byte=32bit</p>
</li>
<li><p>一个字符需要一个Byte的空间</p>
</li>
<li><p>一个整数需要1个Word（4Byte）的空间</p>
</li>
<li><p>MIPS结构的每条指令长度都是32bit</p>
</li>
</ul>
<h1 id="寄存器："><a href="#寄存器：" class="headerlink" title="寄存器："></a>寄存器：</h1><ul>
<li>有32个通用寄存器，用编号$0到$31来表示，也可以用寄存器名字来表示，例如$sp,$t1,$ra</li>
<li>有两个特殊的寄存器Lo、Hi，用来保存乘法/除法的运算结果，这两寄存器不能直接寻址，只能用特殊的置零：mfhi和mflo来aceess其中的内容（mfhi = move from Hi, mflo = more from Lo）</li>
<li>堆栈的增长方向是：从内存的高地址方向，向低地址方向。</li>
</ul>
<p><img src="Snipaste_2019-09-02_20-02-07.png" alt="1"></p>
<h1 id="汇编程序结构框架"><a href="#汇编程序结构框架" class="headerlink" title="汇编程序结构框架"></a>汇编程序结构框架</h1><h2 id="数据声明："><a href="#数据声明：" class="headerlink" title="数据声明："></a>数据声明：</h2><p>以.data 开始，声明了在代码中使用的变量的名字。同时，也在主存RAM中创建了对应的空间。</p>
<h2 id="程序代码："><a href="#程序代码：" class="headerlink" title="程序代码："></a>程序代码：</h2><p>以.text 开始，这部分包含了由指令构成的程序功能代码。代码以main: 函数开始。main的结束点应该调用exit system call </p>
<h2 id="程序的注释："><a href="#程序的注释：" class="headerlink" title="程序的注释："></a>程序的注释：</h2><p>使用#符号进行注释，每行以#引导的部分都会被视作注释</p>
<h1 id="一个MIPS汇编程序框架："><a href="#一个MIPS汇编程序框架：" class="headerlink" title="一个MIPS汇编程序框架："></a>一个MIPS汇编程序框架：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># Comment giving name of program and description of function</span><br><span class="line"># Template.s</span><br><span class="line"># Bare-bones outline of MIPS assembly language program</span><br><span class="line">.data           # variable declarations follow this line </span><br><span class="line">                # ...</span><br><span class="line"></span><br><span class="line">.text           # instructions follow this line </span><br><span class="line">main:           # indicates start of code(first instruction to execute)</span><br><span class="line">                # ...</span><br><span class="line"></span><br><span class="line"># End of program, leave a blank line afterwards to make SPIM happy</span><br></pre></td></tr></table></figure>
<h1 id="编写MIPS汇编程序："><a href="#编写MIPS汇编程序：" class="headerlink" title="编写MIPS汇编程序："></a>编写MIPS汇编程序：</h1><p>Content：</p>
<ul>
<li><p>Part1： 数据的声明</p>
</li>
<li><p>Part2： 数据的装载和保存（Load/Store指令）</p>
</li>
<li><p>Part3： 寻址</p>
</li>
<li><p>Part4： 算数运算指令： Arithmetic Instructions</p>
</li>
<li><p>Part5： 程序控制指令： Control Instructions</p>
</li>
<li><p>Part6： 系统调用和I/O操作（SPIM仿真）</p>
</li>
</ul>
<h2 id="Part1：-数据的声明"><a href="#Part1：-数据的声明" class="headerlink" title="Part1： 数据的声明"></a>Part1： 数据的声明</h2><p>格式：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name:       storage_type    value(s)</span><br></pre></td></tr></table></figure>
<p>创建一个以name为变量名称，values通常为初始值，storage_type代表存储类型。</p>
<p>注意：变量名后要跟一个冒号</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># example</span><br><span class="line"></span><br><span class="line">var1:   .word   3  # create a single integer:</span><br><span class="line">                   # variable with initial value 3</span><br><span class="line"></span><br><span class="line">array1: .byte   &apos;a&apos;,&apos;b&apos; # create a 2-element character</span><br><span class="line">                        # array with elements initialized:</span><br><span class="line">                        # to a and b</span><br><span class="line"></span><br><span class="line">array2: .space  40  # allocate 40 consecutive bytes,</span><br><span class="line">                    # with storage uninitialized</span><br><span class="line">                    # could be used as a 40-element</span><br><span class="line">                    # character array, or a </span><br><span class="line">                    # 10-element integer array;</span><br><span class="line">                    # a comment should indicate it.</span><br><span class="line">    </span><br><span class="line">string1 .asciiz &quot;Print this.\n&quot; # declare a string</span><br></pre></td></tr></table></figure>
<h2 id="Part2-数据的装载和保存（Load-Store指令）"><a href="#Part2-数据的装载和保存（Load-Store指令）" class="headerlink" title="Part2:   数据的装载和保存（Load/Store指令）"></a>Part2:   数据的装载和保存（Load/Store指令）</h2><ul>
<li><strong>主存RAM</strong>的存取access只能用<strong>load/store</strong>指令来完成。</li>
<li>所有其他的指令都使用的是存储器作为操作数。</li>
</ul>
<ol>
<li>load指令：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">lw          register_destination, RAM_source    </span><br><span class="line">                    # copy word (4 bytes) at source_RAM location to destination register</span><br><span class="line">                    # load word -&gt; lw</span><br><span class="line"></span><br><span class="line">lb          register_destination, RAM_source</span><br><span class="line">                    # copy byte at source RAM location to low-order byte of destination register, and sign -e.g. tend to higher-order bytes</span><br><span class="line">                    # load byte -&gt; lb</span><br><span class="line"></span><br><span class="line">li          register_destination, value</span><br><span class="line">                    # load immediate value into destination register</span><br><span class="line">                    # load immediate -&gt; li</span><br></pre></td></tr></table></figure>
<ol start="2">
<li>store 指令：</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sw          register_source, RAM_destination</span><br><span class="line">                        # store word in source register into RAM destination</span><br><span class="line"></span><br><span class="line">sb         register_source, RAM_destination</span><br><span class="line">                        # store byte (low-order) in source register into RAM destination</span><br></pre></td></tr></table></figure>
<p>example:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">.data</span><br><span class="line">var1:       .word   23      # declare storage for var1; initial value is 23</span><br><span class="line"></span><br><span class="line">.text</span><br><span class="line">__start:</span><br><span class="line">lw          $t0, var1       # load contents of RAM location into register $t0;</span><br><span class="line">                            # $t0 = var1</span><br><span class="line"></span><br><span class="line">li          $t1, 5          # $t1 = 5   (&quot;load immediate&quot;)</span><br><span class="line">sw          $t1, var1       # store contents of register $t1 into RAM:</span><br><span class="line">                            # var1 = $t1 done</span><br><span class="line">done</span><br></pre></td></tr></table></figure></p>
<h2 id="Part3-寻址"><a href="#Part3-寻址" class="headerlink" title="Part3: 寻址"></a>Part3: 寻址</h2><p>MIPS系统结构只能用load/store相关指令来实现寻址操作，包括三种寻址方式：</p>
<ul>
<li>装载地址： load address，相当于直接寻址，把数据地址直接载入寄存器。</li>
<li>间接寻址： indirect addressing，间接寻址，把寄存器内容作为地址。</li>
<li>基线寻址/索引寻址： based or indexed addressing， 相对寻址， 利用补偿值(offset)寻址</li>
</ul>
<ol>
<li>直接寻址/装载地址：load address:<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">la      $t0, var1</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>把var1在主存RAM中的地址拷贝到寄存器t0中，var1也可以是程序中定义的一个子程序标签的地址。</p>
<ol start="2">
<li>间接寻址： indirect addressing：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lw      $t2, ($t0)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>主存中有一个字的地址存在t0中，按这个地址找到那个字，把字拷贝到寄存器t2中。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sw      $t2, ($to)</span><br></pre></td></tr></table></figure></p>
<p>把t2中的字存入t0中的地址指向的主存位置。</p>
<ol start="3">
<li>基线寻址/索引寻址： based or indexed addressing：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lw      $t2, 4($t0)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>把t0中地址+4所得的地址所对应的主存中的字载入寄存器t2中，4为包含在t0中的地址的偏移量。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sw      $t2, -12($t0)   # offset can be negative</span><br></pre></td></tr></table></figure></p>
<p>把t2中的内容存入t0中的地址-12所得的地址所对应的主存。</p>
<blockquote>
<p>基线寻址在以下场合特别有用：<br>1、 数组： 从基址出发，通过使用偏移量，存取数组元素。<br>2、 堆栈： 利用从堆栈指针或者框架指针的偏移量来存取元素。</p>
</blockquote>
<p>example：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">.data</span><br><span class="line">array1:     .space 12   # declare 12 bytes of storage to hold array of 3 integers</span><br><span class="line"></span><br><span class="line">.text</span><br><span class="line">__start:</span><br><span class="line">la          $t0, array1      # load base address of array into register $t0</span><br><span class="line">li          $t1, 5          # $t1 = 5 (&quot;load immediate&quot;)</span><br><span class="line">sw          $t1, ($t0)      # first array element set to 5;</span><br><span class="line">                            # indirect addressing</span><br><span class="line">li          $t1, 13         # $t1 = 13</span><br><span class="line">sw          $t1, 4($t0)     # second array element set to 13</span><br><span class="line"></span><br><span class="line">li          $t1, -7         # $t1 = -7</span><br><span class="line">sw          $t1, 8($t0)     # third array element set to -7</span><br><span class="line"></span><br><span class="line">done</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>四位四位地走<br>存入一个字，占用4个字节，消耗4个内存号。且地址偏移量可正可负</p>
</blockquote>
<h2 id="Part5-算术运算指令：-Arithmetic-Instructions"><a href="#Part5-算术运算指令：-Arithmetic-Instructions" class="headerlink" title="Part5 算术运算指令： Arithmetic Instructions"></a>Part5 算术运算指令： Arithmetic Instructions</h2><ul>
<li>算术运算指令地所有操作数都是寄存器，不能直接使用RAM地址或间接寻址。</li>
<li>操作数地大小都为Word（4-Byte）</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">add     $t0,$t1,$t2         # $t0 = $t1 + $t2; add as signed</span><br><span class="line">                            # (2&apos;s complement) integers</span><br><span class="line">sub     $t2,$t3,$t4         # $t2 = $t3 - $t4</span><br><span class="line">addi    $t2,$t3, 5          # $t2 = $t3 + 5; &quot;add immediate&quot;</span><br><span class="line">                            # (no sub immediate)</span><br><span class="line">addu    $t1,$t6,$t7         # $t1 = $t6 + $t7;</span><br><span class="line">addu    $t1,$t6,5           # $t1 = $t6 + 5;</span><br><span class="line">                            # add as unsigned intergers</span><br><span class="line">subu    $t1,$t6,$t7         # $t1 = $t6 - $t7;</span><br><span class="line">subu    $t1,$t6,5           # $t1 = $t6 - 5;</span><br><span class="line">                            # subtract as unsigned intergers                  </span><br><span class="line"></span><br><span class="line">mult    $t3,$t4             # multiply 32-bit quantities in $t3 and $4,</span><br><span class="line">                            # and store 64-bit result in special registers Lo and Hi: (Hi, Lo) = $t3 * $t4</span><br><span class="line"></span><br><span class="line">div     $t5,$t6             # Lo = $t5 / $t6    (integer quotient)</span><br><span class="line">                            # Hi = $t5 mod $t6 (remainder)</span><br><span class="line">mfhi    $t0                 # move quantity in special register Hi to $t0: </span><br><span class="line">                            # $t0= Hi</span><br><span class="line">mflo    $t1                 # move quantity in special register Lo to $t1:</span><br><span class="line">                            # $t1 = Lo, used to get at result of product or quotient</span><br><span class="line"></span><br><span class="line">more    $t2,$t3             # $t2 = $t3</span><br></pre></td></tr></table></figure>
<h2 id="Part6-程序控制指令：-Control-Instructions"><a href="#Part6-程序控制指令：-Control-Instructions" class="headerlink" title="Part6: 程序控制指令： Control Instructions"></a>Part6: 程序控制指令： Control Instructions</h2><ol>
<li>分支指令（Branches）</li>
</ol>
<p>条件分支的比较机制已经内建在指令中</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">b           target # unconditional branch to program label target</span><br><span class="line"></span><br><span class="line">beq     $t0,$t1,target  # branch to target if $t0 = $t1</span><br><span class="line">blt     $t0,$t1,target  # branch to target if $t0 &lt; $t1</span><br><span class="line">ble     $t0,$t1,target  # branch to target if $t0 &lt;= $t1</span><br><span class="line">bgt     $t0,$t1,target  # branch to target if $t0 &gt; $t1</span><br><span class="line">bge     $t0,$t1,target  # branch to target if $t0 &gt;= $t1</span><br><span class="line">bne     $t0,$t1,target  # branch to target if $t0 &lt;&gt; $t1</span><br><span class="line"></span><br><span class="line">beqz     $t0, lab  # branch to lab if $t0 = 0.</span><br><span class="line">bnez     $t0, lab  # branch to lab if $t0 != 0.</span><br><span class="line">bgez     $t0, lab  # branch to lab if $t0 &gt;= 0.</span><br><span class="line">bgtz     $t0, lab  # branch to lab if $t0 &gt; 0.</span><br><span class="line">blez     $t0, lab  # branch to lab if $t0 &lt;= 0.</span><br><span class="line">bltz     $t0, lab  # branch to lab if $t0 &lt; 0.</span><br><span class="line"></span><br><span class="line">bgezal  $t0, lab # if $t0 &gt;= 0, then put the address of the next instruction into $ra and branch to lab</span><br><span class="line">bgtzal  $t0, lab # if $t0 &gt; 0, then put the address of the next instruction into $ra and branch to lab</span><br><span class="line">bltzal  $t0, lab # if $t0 &lt; 0, then put the address of the next instruction into $ra and branch to lab</span><br></pre></td></tr></table></figure>
<ol start="2">
<li><p>跳转指令（Jumps）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">j       target  # unconditional jump to program label target</span><br><span class="line">jr      $t3     # jump to address contained in $t3 (&quot;jump register&quot;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>子程序调用指令</p>
</li>
</ol>
<p>子程序调用指令的实质是跳转并链接（Jump and Link），它把当前程序计数器的值保留到$ra中，以备跳回）</p>
<p>跳到子程序：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jal     sub_label       # &quot;jump and link&quot;, preserve pc to $ra</span><br></pre></td></tr></table></figure></p>
<p>sub_label为子程序的标签，如LOOP，SUB_ROUTINE</p>
<p>从子程序返回:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">jr      $ra     # &quot;jump register&quot; jump as the value of $ra</span><br></pre></td></tr></table></figure></p>
<p>返回到$ra中储存的返回地址对应的位置，$ra中的返回地址由jal指令保存</p>
<p>注意，返回地址存放在$ra寄存器中，如果子程序调用了下一级程序，或者递归调用，此时需要将返回地址保存在堆栈中，因为没执行依次jal指令就会覆盖$ra中的返回地址。</p>
<h2 id="Part6：系统调用和I-O操作（SPIM仿真）"><a href="#Part6：系统调用和I-O操作（SPIM仿真）" class="headerlink" title="Part6：系统调用和I/O操作（SPIM仿真）"></a>Part6：系统调用和I/O操作（SPIM仿真）</h2><p>系统调用是指调用<strong>操作系统的特定子程序</strong></p>
<p>系统调用用来在仿真器的窗口中打印或者读入字符串string，并可显示程序是否结束</p>
<p>用<strong>syscall指令</strong>进行对系统子程序的调用</p>
<p>本操作首先支持$v0 and $a0-$a1中的相对值</p>
<p>调用以后的返回值（如果存在）会保存在$v0中。</p>
<p><img src="Snipaste_2019-09-02_19-22-38.png" alt="1"></p>
<p>e.g.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 打印在$t2中的整数</span><br><span class="line">li  $v0, 1</span><br><span class="line">move    $a0, $t2</span><br><span class="line">syscall</span><br></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># read integer value, store in RAM location with label int_value (presumably declared in data section)</span><br><span class="line">li      $v0, 5</span><br><span class="line">syscall</span><br><span class="line"></span><br><span class="line">sw      $v0, int_value</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># print out string</span><br><span class="line">.data</span><br><span class="line">	string1:    .asciiz  &quot;print this.\n&quot;</span><br><span class="line"></span><br><span class="line">.text</span><br><span class="line">main:</span><br><span class="line">    li   $v0, 4</span><br><span class="line">    la   $a0, string1</span><br><span class="line">    syscall</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># to indicate end of program, use exit system call</span><br><span class="line">li      $v0, 10</span><br><span class="line">syscall</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="阶乘："><a href="#阶乘：" class="headerlink" title="阶乘："></a>阶乘：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">.data     </span><br><span class="line">    msg: .asciiz&quot;Enter a Number &quot;</span><br><span class="line">    msg1: .asciiz&quot;The result is: &quot;</span><br><span class="line"></span><br><span class="line">.text                   </span><br><span class="line">main:                    </span><br><span class="line">    li $v0,4             </span><br><span class="line">    la $a0,msg           </span><br><span class="line">    syscall  </span><br><span class="line"></span><br><span class="line">    li $v0,5              </span><br><span class="line">    syscall  </span><br><span class="line"></span><br><span class="line">    move $s0,$v0          </span><br><span class="line">    li $s7, 1      </span><br><span class="line"></span><br><span class="line">factorial:              </span><br><span class="line">    mult $s0,$s7        </span><br><span class="line">    mflo $s7     </span><br><span class="line">    sub $s0,$s0,1         </span><br><span class="line">    bgt $s0,1,factorial   </span><br><span class="line"></span><br><span class="line">done:</span><br><span class="line">    li $v0,4</span><br><span class="line">    la $a0,msg1</span><br><span class="line">    syscall</span><br><span class="line"></span><br><span class="line">    move $a0,$s7         </span><br><span class="line">    li $v0,1              </span><br><span class="line">    syscall          </span><br><span class="line"></span><br><span class="line">    li     $v0, 10           </span><br><span class="line">    syscall</span><br></pre></td></tr></table></figure>
<h1 id="冒泡排序："><a href="#冒泡排序：" class="headerlink" title="冒泡排序："></a>冒泡排序：</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">.data</span><br><span class="line">	Array: .word 21,4,12,6,89,17,33,10,9,51</span><br><span class="line">	seperate:.asciiz &quot; &quot;</span><br><span class="line"></span><br><span class="line"># for i(0~n-1)</span><br><span class="line"># 	for j(0~n-i)</span><br><span class="line"></span><br><span class="line">.text</span><br><span class="line">main:</span><br><span class="line">	la $t6,Array     # t6 = a[0]</span><br><span class="line">    move $t7,$zero   # t7 = 0</span><br><span class="line">    li $t8,10        # t8 = 10 (size)</span><br><span class="line">    move $t9,$zero   # t9 = 0</span><br><span class="line"></span><br><span class="line">loop1:</span><br><span class="line">    move $t9,$zero   # t9 = 0</span><br><span class="line"></span><br><span class="line">loop2:</span><br><span class="line">	move $t0,$t9     # t0 = t9</span><br><span class="line">    mul $t0,$t0,4	 # t0 = 4*t9</span><br><span class="line">    addu $t1,$t0,$t6   </span><br><span class="line">    lw $t2,0($t1)   # t2 = a[t9]</span><br><span class="line"></span><br><span class="line">	addi $t0,$t9,1   # t0 = t9 + 1</span><br><span class="line">    mul $t0,$t0,4</span><br><span class="line">    addu $t4,$t0,$t6</span><br><span class="line">    lw $t3,0($t4)	# t3 = a[t9+1]</span><br><span class="line"></span><br><span class="line">    bge $t2,$t3,skip # if(t2 &gt;= t3) goto skip</span><br><span class="line">    sw $t3,0($t1)  # if(t2 &lt; t3) swap</span><br><span class="line">    sw $t2,0($t4)</span><br><span class="line"></span><br><span class="line">skip:</span><br><span class="line">   addi $t9,$t9,1   # t9++</span><br><span class="line">   addi $t0,$t9,1   # t0 = t9 + 1</span><br><span class="line">   sub $t1,$t8,$t7    # t1 = t8 - t7</span><br><span class="line">   blt $t0,$t1,loop2  </span><br><span class="line">   addi $t7,$t7,1     </span><br><span class="line">   sub $t2,$t8,1</span><br><span class="line">   blt $t7,$t2,loop1</span><br><span class="line"></span><br><span class="line">set:</span><br><span class="line">	move $t7,$zero</span><br><span class="line">	</span><br><span class="line">done:</span><br><span class="line">	move $t0,$t7</span><br><span class="line">   	mul $t0,$t0,4</span><br><span class="line">   	addu $t1,$t0,$t6</span><br><span class="line">   	lw $a0,0($t1)</span><br><span class="line">  	li $v0,1</span><br><span class="line">   	syscall</span><br><span class="line"></span><br><span class="line">   	la $a0,seperate  </span><br><span class="line">   	li $v0,4</span><br><span class="line">   	syscall</span><br><span class="line"></span><br><span class="line">   	addi $t7,$t7,1</span><br><span class="line">   	blt $t7,10,done</span><br></pre></td></tr></table></figure>
<h1 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">.text</span><br><span class="line">.globl main</span><br><span class="line">main:</span><br><span class="line">	addi $a1, $0, 2</span><br><span class="line">	addi $a2, $0, 3</span><br><span class="line"></span><br><span class="line">	jal print_two_number</span><br><span class="line">	jal addfunction</span><br><span class="line">	j result</span><br><span class="line"></span><br><span class="line">addfunction:</span><br><span class="line">	add $v1, $a1, $a2</span><br><span class="line">	jr $ra</span><br><span class="line"></span><br><span class="line">print_two_number:</span><br><span class="line">	move $a0, $a1</span><br><span class="line">	li $v0, 1</span><br><span class="line">	syscall</span><br><span class="line">	la $a0, change</span><br><span class="line">	li $v0, 4</span><br><span class="line">	syscall</span><br><span class="line"></span><br><span class="line">	move $a0, $a2</span><br><span class="line">	li $v0, 1</span><br><span class="line">	syscall</span><br><span class="line">	la $a0, change</span><br><span class="line">	li $v0 4</span><br><span class="line">	syscall</span><br><span class="line"></span><br><span class="line">	jr $ra</span><br><span class="line"></span><br><span class="line">result:</span><br><span class="line">	move $a0, $v1</span><br><span class="line">	li $v0, 1</span><br><span class="line">	syscall</span><br><span class="line"></span><br><span class="line">	la $a0, change</span><br><span class="line">	li $v0, 4</span><br><span class="line">	syscall</span><br><span class="line"></span><br><span class="line">	li $v0, 10</span><br><span class="line">	syscall</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">.data</span><br><span class="line">	change:</span><br><span class="line">		.asciiz &quot;\n&quot;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line">###########################################################################</span><br><span class="line">#</span><br><span class="line">#    #include&lt;iostream&gt;</span><br><span class="line">#    using namespace std;</span><br><span class="line">#    int add(int a, int b) &#123;</span><br><span class="line">#        int sum;</span><br><span class="line">#        sum = a + b;</span><br><span class="line">#        return sum;</span><br><span class="line">#    &#125;</span><br><span class="line">#</span><br><span class="line">#    int main() &#123;</span><br><span class="line">#      int a = 2;</span><br><span class="line">#      int b = 3;</span><br><span class="line">#      int sum = add(a,b)</span><br><span class="line">#      cout &lt;&lt; sum &lt;&lt; endl;</span><br><span class="line">#      return 0;</span><br><span class="line">#    &#125;</span><br><span class="line">#</span><br><span class="line">###########################################################################</span><br><span class="line">.text</span><br><span class="line">.globl main</span><br><span class="line">main:</span><br><span class="line">  addi $a1,$0,2                             # $a1: the register to save 2, parameters are stored in registers $a0 - $a3</span><br><span class="line">  addi $a2,$0,3                             # $a2: the register to save 3</span><br><span class="line"></span><br><span class="line">  jal print_two_number                      # print two immediates</span><br><span class="line">  jal addfunction                           # jump to a function addfunction</span><br><span class="line">  j result                                  # print result</span><br><span class="line"></span><br><span class="line">addfunction:                                # add function</span><br><span class="line">  add $v1,$a1,$a2                           # Calculate the sum and save it into $v1, the registers $v0 and $v1 save the return value</span><br><span class="line">  jr $ra                                    # The return address is saved in $ra</span><br><span class="line"></span><br><span class="line">print_two_number:</span><br><span class="line">  move $a0,$a1                                     # move the value into $a0</span><br><span class="line">  li $v0, 1                                        # load appropriate system call code into register $v0</span><br><span class="line">  syscall</span><br><span class="line">  la $a0, change                                   # load address of string &quot;change&quot;</span><br><span class="line">  li $v0, 4                                        # load appropriate system call code into register $v0</span><br><span class="line">  syscall</span><br><span class="line"></span><br><span class="line">  move $a0,$a2</span><br><span class="line">  li $v0, 1                                        # load appropriate system call code into register $v0</span><br><span class="line">  syscall</span><br><span class="line">  la $a0, change                                   # load address of string &quot;change&quot;</span><br><span class="line">  li $v0, 4                                        # load appropriate system call code into register $v0</span><br><span class="line">  syscall</span><br><span class="line"></span><br><span class="line">  jr $ra</span><br><span class="line"></span><br><span class="line">result:</span><br><span class="line">  move $a0,$v1</span><br><span class="line">  li $v0, 1                                        # load appropriate system call code into register $v0</span><br><span class="line">  syscall</span><br><span class="line"></span><br><span class="line">  la $a0, change                                   # load address of string &quot;change&quot;</span><br><span class="line">  li $v0, 4                                        # load appropriate system call code into register $v0</span><br><span class="line">  syscall</span><br><span class="line"></span><br><span class="line">  li $v0, 10                                       # exit</span><br><span class="line">  syscall</span><br><span class="line"></span><br><span class="line">.data                                              # statement of data</span><br><span class="line">  change:                                          # name of string</span><br><span class="line">       .asciiz &quot;\n&quot;                                # definition of string</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/29/bianchengzhimei9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zzm99">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zzm99">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/29/bianchengzhimei9/" itemprop="url">1的数目</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-29T14:21:54+08:00">
                2019-08-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程之美/" itemprop="url" rel="index">
                    <span itemprop="name">编程之美</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/08/29/bianchengzhimei9/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/08/29/bianchengzhimei9/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.3k
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  5
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>给定一个十进制正整数N，写下从1开始，到N的所有整数，然后数一下其中出现的所有“1”的个数。</p>
<p>例如：<br>N = 2， 写下1，2.这样就只有一个“1”。<br>N = 12， 我们就会写下1，2，3，4，5，6，7，8，9，10，11，12。这样，1的个数是5。</p>
<p>问题：</p>
<ol>
<li>写一个函数f(N)，返回1到N之间出现的“1”的个数，比如f(12) = 5;</li>
<li>满足条件“f(N) = N”的最大的N是多少？</li>
</ol>
<h1 id="问题一"><a href="#问题一" class="headerlink" title="问题一"></a>问题一</h1><h1 id="解法一："><a href="#解法一：" class="headerlink" title="解法一："></a>解法一：</h1><p>遍历1到N，将每一个数中含有1的个数加起来</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">ULONGLONG <span class="title">Count1InAInteger</span><span class="params">(ULONGLONG n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ULONGLONG iNum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(n != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        iNum += (n % <span class="number">10</span> == <span class="number">1</span>) ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">        n /= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> iNum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function">ULONGLONG <span class="title">f</span><span class="params">(ULONGLONG n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ULONGLONG iCount = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(ULONGLONG i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        iCount += Count1InAInteger(i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> iCount;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>然而这个算法的时间复杂度是O(N*lgN)</p>
<p>当给定的N比较大时候，运算时间就会很长。</p>
<p>要提高效率，必须摒弃遍历的方法。</p>
<h1 id="解法二："><a href="#解法二：" class="headerlink" title="解法二："></a>解法二：</h1><p>先从一些简单的情况开始观察：</p>
<h2 id="先看1位数的情况："><a href="#先看1位数的情况：" class="headerlink" title="先看1位数的情况："></a>先看1位数的情况：</h2><p>如果N &gt;= 1， 那么f(N)都等于1，如果N = 0，则f(N)为0</p>
<h2 id="再看2位数的情况："><a href="#再看2位数的情况：" class="headerlink" title="再看2位数的情况："></a>再看2位数的情况：</h2><p>如果N的个位数大于等于1，则个位数出现1的次数为十位数的数字加1，如果N的个位数为0，则个位出现1的次数等于十位数的数字。</p>
<p>而十位数上出现1的次数也类似：如果十位数字等于1，则十位数上出现1的次数为个位数的数字加1，如果十位数大于1，则十位数上出现1的次数为10</p>
<h2 id="接着看3位数的情况："><a href="#接着看3位数的情况：" class="headerlink" title="接着看3位数的情况："></a>接着看3位数的情况：</h2><p>如果 N = 123;<br>个位出现1的个数为13；<br>十位出现1的个数为20；<br>百位出现1的个数为24；       </p>
<p>f(123) = 13 + 20 + 24 = 57;</p>
<h2 id="推导一般情况"><a href="#推导一般情况" class="headerlink" title="推导一般情况"></a>推导一般情况</h2><p>假设N = abcde，这里a、b、c、d、e分别是十进制数N的各个数位上的数字，如果要计算百位上出现1的次数，它将受到三个因素的影响，百位上的数字，百位以下（低位）的数字，百位（更高位）以上的数字。</p>
<p>如果百位上的数字为0，可知，百位上可能出现1的次数由更高位决定，比如12013，百位出现1的情况可能是100~199、1100~1199、2100~2199、、、11100~11199，一共1200个，也就是由更高位数字（12）决定，并且等于更高位数字12*当前位数100。</p>
<p>如果百位上数字为1，可知百位上可能出现1的次数不仅受到更高位影响，还受低位影响，例如12113，受更高位影响，百位出现1的情况是100~199，1100~1199，。。。，11100~11199，一共1200个，等于更高位数字12*当前位数100.但是它还受低位影响，百位出现1的情况是12100~12113，一共14个，等于低位数13+1</p>
<p>如果百位上的数字大于1即2~9，则百位上可能出现1的次数也仅由更高位决定，比如12213，则百位储下你的可能性为100~199、1100~1199、2100~2199、、、11100~11199，12100~12199，一共1300个，并且等于更高位数字加1，再乘以当前位数，即（12+1）*100</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">LONGLONG <span class="title">Sum1s</span><span class="params">(ULONGLONG n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ULONGLONG iCount = <span class="number">0</span>;</span><br><span class="line">    ULONGLONG iFactor = <span class="number">1</span>;</span><br><span class="line">    ULONGLONG iLowerNum = <span class="number">0</span>;</span><br><span class="line">    ULONGLONG iCurrNum = <span class="number">0</span>;</span><br><span class="line">    ULONGLONG iHigherNum = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(n / iFactor != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        iLowerNum = n - (n / iFactor) * iFactor;</span><br><span class="line">        iCurrNum = (n / iFactor) % <span class="number">10</span>;</span><br><span class="line">        iHigherNum = n / (iFactor * <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">switch</span>(iCurrNum)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                iCount += iHigherNum * iFactor;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                iCount += iHigherNum * iFactor + iLowerNum + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                iCount += (iHigherNum + <span class="number">1</span>) * iFactor;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        iFactor *= <span class="number">10</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> iCount;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这个算法，输入长度位Len的数字，时间复杂度为O(Len)，即O(lnn/ln10 + 1)</p>
<h1 id="问题二解法："><a href="#问题二解法：" class="headerlink" title="问题二解法："></a>问题二解法：</h1><p>要确定最大的数N，满足f(N) = N。</p>
<p>通过上面的算法，可以算得到：</p>
<p>9以下为： 1个       </p>
<p>99以下： 20个           </p>
<p>999以下：300个</p>
<p>9999以下：4000个</p>
<p>。。。</p>
<p>999999999以下：900000000个</p>
<p>9999999999以下：10000000000个</p>
<p>归纳得到：</p>
<p>f(10^n-1) = n*10^(n-1)。</p>
<p>通过这个递推式，很容易看到，当n = 10^10-1时，f(n)的值大于n，我们可以猜想，当n大于某一个数N时，f(n)会始终比n大，也就是说，最大满足条件在0~N之间，即N是最大满足条件f(n) = n的一个上界。如果能估计出这个N，那么只要让n从N往0递减，每个分别检查是否由f(n) = n，第一个满足条件的数就是我们要求的整数。</p>
<p>因此，问题转化为如何证明上界N确实存在，并估计出这个上界N。</p>
<p>数学归纳法证明得N = 10^11</p>
<p>计算这个最大整数n</p>
<p>令N = 10^11-1 = 99 999 999 999, 让n从N往0递减，依次检查是否有f(n) = n, 第一个满足条件得就是我们要求的整数。</p>
<p>得出n = 1 111 111 110 是满足的最大整数。</p>
<h1 id="扩展问题"><a href="#扩展问题" class="headerlink" title="扩展问题"></a>扩展问题</h1><p>对于其他进制表达方式，也可以试一试，看看有什么规律，例如二进制。</p>
<p>暴力遍历？</p>
<p>1 -》1 -》 1</p>
<p>10 -》0+1*2-》2</p>
<p>11 -》1+1*3-》4</p>
<p>100 -》0+1+1*2*2-》5</p>
<p>101 -》1+1+1*2*2-》6</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/29/bianchengzhimei8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="zzm99">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="zzm99">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2019/08/29/bianchengzhimei8/" itemprop="url">寻找发帖‘水王’</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2019-08-29T14:21:47+08:00">
                2019-08-29
              </time>
            

            

            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/编程之美/" itemprop="url" rel="index">
                    <span itemprop="name">编程之美</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2019/08/29/bianchengzhimei8/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2019/08/29/bianchengzhimei8/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  520
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">
                  1
                </span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>传说，Tango有一大水王，他不但喜欢发帖，还会回复其他ID发的贴子，坊间风闻该水王发帖数目超过了帖子总数的一半。如果你有一个当前论坛上所有帖子（包括回帖）的列表，其中帖子作者的ID也在表中，你能快速找出这个传说中的Tango水王吗？</p>
<p><strong>最直接的方法</strong>，我们可以对所有ID进行排序，然后再扫描一边排好序的ID列表，统计各个ID出现的次数，如果某个ID出现的次数超过总数的一半，那么就输出这个ID。这个算法的时间复杂度是 O(N*logN + N)</p>
<p>如果ID列表已经是有序的，还需要扫描一遍整个列表来统计各个ID出现的次数吗？</p>
<p>当列表已经是有序时候，<strong>第N/2项就是水王ID</strong>。</p>
<p>但上面两种方法都需要先对ID列表进行排序，时间复杂度没有本质的改进，能否避免排序呢？</p>
<p>如果每次删除两个不同的ID（不管是否包含水王的ID），那么，在剩下的ID列表中，水王ID出现的次数仍然超过总数的一半，可以不断通过重复这个过程，把ID列表中的ID总数降低（转化为更小的问题），从而得到答案，新的思路，避免了排序这个耗时的步骤，总的时间复杂度只有O(N)，且只需要常数的额外内存。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">Type <span class="title">Find</span><span class="params">(Type* ID, <span class="keyword">int</span> N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    Type candidate;</span><br><span class="line">    <span class="keyword">int</span> nTimes, i;</span><br><span class="line">    <span class="keyword">for</span>(i = nTimes = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(nTimes == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            candidate = ID[i], nTimes = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(candidate == ID[i])</span><br><span class="line">                nTimes++;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                nTimes--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> candidate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>把一个问题转化为规模较小的若干个问题，小的问题跟原问题本质上一直。</p>
</blockquote>
<p>扩展问题：</p>
<p>统计发现，有三个发帖很多的ID，他们的发帖数目都超过了帖子总书N的1/4，你能从发帖ID列表中快速找出他们的ID吗？</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/29/">29</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.jpg" alt="zzm99">
            
              <p class="site-author-name" itemprop="name">zzm99</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">281</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">39</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">3</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/zzm99" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">zzm99</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">349.6k</span>
  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Gemini</a> v5.1.4</div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>








        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  


  











  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/canvas-nest/canvas-nest.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  










  <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
  <script src="//unpkg.com/valine/dist/Valine.min.js"></script>
  
  <script type="text/javascript">
    var GUEST = ['nick','mail','link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item=>{
      return GUEST.indexOf(item)>-1;
    });
    new Valine({
        el: '#comments' ,
        verify: false,
        notify: false,
        appId: 'tCb3SA6mqeAq2F28wecWLXyU-gzGzoHsz',
        appKey: 'xqRqUNcwfzn1jIhCov5sNS9G',
        placeholder: 'Just go go',
        avatar:'mm',
        guest_info:guest,
        pageSize:'10' || 10,
    });
  </script>



  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  

  

  


  <!-- 页面点击小红心 
  <script type="text/javascript" src="/js/src/click.js"></script>
  -->

<!-- 爆炸 
  
   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/src/fireworks.js"></script>
  
-->

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":0.8,"hHeadPos":0.5,"vHeadPos":0.5,"jsonPath":"/live2dw/assets/hibiki.model.json"},"display":{"superSample":2,"width":200,"height":450,"position":"left","hOffset":0,"vOffset":0},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.9,"opacityOnHover":0.9},"log":false});</script></body>
</html>
